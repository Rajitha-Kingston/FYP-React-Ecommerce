{"version":3,"sources":["constants/productConstants.js","constants/cartConstants.js","constants/userConstants.js","constants/orderConstants.js","store.js","reducers/productReducers.js","reducers/cartReducers.js","reducers/userReducers.js","reducers/orderReducers.js","components/SearchBox.js","actions/userActions.js","components/Header.js","components/Footer.js","components/Rating.js","components/Product.js","components/Message.js","components/Loader.js","components/Paginate.js","actions/productActions.js","components/ProductCarousel.js","components/Meta.js","screens/HomeScreen.js","screens/ProductScreen.js","actions/cartActions.js","screens/CartScreen.js","components/FormContainer.js","screens/LoginScreen.js","screens/RegisterScreen.js","screens/ProfileScreen.js","actions/orderActions.js","components/CheckoutSteps.js","screens/ShippingScreen.js","screens/PaymentScreen.js","screens/PlaceOrderScreen.js","screens/OrderScreen.js","screens/UserListScreen.js","screens/UserEditScreen.js","screens/ProductListScreen.js","screens/ProductEditScreen.js","screens/OrderListScreen.js","App.js","reportWebVitals.js","index.js"],"names":["PRODUCT_LIST_REQUEST","PRODUCT_LIST_SUCCESS","PRODUCT_LIST_FAIL","PRODUCT_DETAILS_REQUEST","PRODUCT_DETAILS_SUCCESS","PRODUCT_DETAILS_FAIL","PRODUCT_DELETE_REQUEST","PRODUCT_DELETE_SUCCESS","PRODUCT_DELETE_FAIL","PRODUCT_CREATE_REQUEST","PRODUCT_CREATE_SUCCESS","PRODUCT_CREATE_FAIL","PRODUCT_CREATE_RESET","PRODUCT_UPDATE_REQUEST","PRODUCT_UPDATE_SUCCESS","PRODUCT_UPDATE_FAIL","PRODUCT_UPDATE_RESET","PRODUCT_CREATE_REVIEW_REQUEST","PRODUCT_CREATE_REVIEW_SUCCESS","PRODUCT_CREATE_REVIEW_FAIL","PRODUCT_CREATE_REVIEW_RESET","PRODUCT_TOP_REQUEST","PRODUCT_TOP_SUCCESS","PRODUCT_TOP_FAIL","CART_ADD_ITEM","CART_CLEAR_ITEMS","CART_REMOVE_ITEM","CART_SAVE_SHIPPING_ADDRESS","CART_SAVE_PAYMENT_METHOD","USER_LOGIN_REQUEST","USER_LOGIN_SUCCESS","USER_LOGIN_FAIL","USER_LOGOUT","USER_REGISTER_REQUEST","USER_REGISTER_SUCCESS","USER_REGISTER_FAIL","USER_DETAILS_REQUEST","USER_DETAILS_SUCCESS","USER_DETAILS_FAIL","USER_DETAILS_RESET","USER_UPDATE_PROFILE_REQUEST","USER_UPDATE_PROFILE_SUCCESS","USER_UPDATE_PROFILE_FAIL","USER_UPDATE_PROFILE_RESET","USER_LIST_REQUEST","USER_LIST_SUCCESS","USER_LIST_FAIL","USER_LIST_RESET","USER_DELETE_REQUEST","USER_DELETE_SUCCESS","USER_DELETE_FAIL","USER_UPDATE_REQUEST","USER_UPDATE_SUCCESS","USER_UPDATE_FAIL","USER_UPDATE_RESET","ORDER_CREATE_REQUEST","ORDER_CREATE_SUCCESS","ORDER_CREATE_FAIL","ORDER_CREATE_RESET","ORDER_DETAILS_REQUEST","ORDER_DETAILS_SUCCESS","ORDER_DETAILS_FAIL","ORDER_PAY_REQUEST","ORDER_PAY_SUCCESS","ORDER_PAY_FAIL","ORDER_PAY_RESET","ORDER_LIST_MY_REQUEST","ORDER_LIST_MY_SUCCESS","ORDER_LIST_MY_FAIL","ORDER_LIST_MY_RESET","ORDER_LIST_REQUEST","ORDER_LIST_SUCCESS","ORDER_LIST_FAIL","ORDER_DELIVER_REQUEST","ORDER_DELIVER_SUCCESS","ORDER_DELIVER_FAIL","ORDER_DELIVER_RESET","reducer","combineReducers","productList","state","products","action","type","loading","payload","pages","page","error","productDetails","product","reviews","cart","cartItems","shippingAddress","item","existItem","find","x","map","filter","paymentMethod","userLogin","userInfo","userRegister","userDetails","user","userUpdateProfile","success","userList","users","userUpdate","userDelete","orderCreate","order","orderDetails","orderItems","orderPay","orderListMy","orders","orderDeliver","productDelete","productCreate","productUpdate","orderList","productReviewCreate","productTopRated","cartItemsFromStorage","localStorage","getItem","JSON","parse","userInfoFromStorage","initialState","middleware","thunk","store","createStore","composeWithDevTools","applyMiddleware","SearchBox","history","useState","keyword","setKeyword","Form","onSubmit","e","preventDefault","trim","push","inline","Control","name","onChange","target","value","placeholder","className","Button","logout","dispatch","removeItem","document","location","href","getUserDetails","id","getState","a","config","headers","Authorization","token","axios","get","data","response","message","Header","useDispatch","useSelector","Navbar","bg","variant","expand","collapseOnSelect","Container","to","Brand","Toggle","Collapse","render","Nav","Link","NavDropdown","title","Item","onClick","isAdmin","Footer","Row","Col","Rating","text","color","style","defaultProps","Product","Card","_id","Img","src","image","Body","Title","as","Text","rating","numReviews","price","Message","children","Alert","Loader","Spinner","animation","role","width","height","margin","display","Paginate","Pagination","Array","keys","active","listProducts","pageNumber","listProductDetails","ProductCarousel","useEffect","Carousel","pause","interval","Image","alt","fluid","Caption","Meta","description","keywords","author","Helmet","content","HomeScreen","match","params","sm","md","lg","xl","ProductScreen","qty","setQty","setRating","comment","setComment","successProductReview","loadingProductReview","errorProductReview","ListGroup","countInStock","disabled","length","review","createdAt","substring","productId","post","Group","controlId","Label","required","row","addToCart","setItem","stringify","CartScreen","search","Number","split","num","removeFromCartHandler","removeFromCart","rounded","reduce","acc","toFixed","Math","round","FormContainer","xs","LoginScreen","email","setEmail","password","setPassword","redirect","login","RegisterScreen","setName","confirmPassword","setConfirmPassword","setMessage","register","ProfileScreen","loadingOrders","errorOrders","put","updateUserProfile","Table","bordered","hover","responsive","totalPrice","isPaid","paidAt","isDeliverd","deliveredAt","CheckoutSteps","step1","step2","step3","step4","ShippingScreen","address","setAddress","city","setCity","postalCode","setPostalCode","country","setCountry","PaymentScreen","setPaymentMethod","Check","label","checked","PlaceOrderScreen","addDecimals","itemsPrice","shippingPrice","taxPrice","index","createOrder","OrderScreen","orderId","sdkReady","setSdkReady","loadingPay","successPay","loadingDeliver","successDeliver","addPayPalScript","clientId","script","createElement","async","onload","body","appendChild","window","paypal","isDelivered","amount","onSuccess","paymentResult","payOrder","deliverOrder","UserListScreen","successDelete","deleteHandler","confirm","delete","deleteUser","UserScreen","userId","setIsAdmin","loadingUpdate","errorUpdate","successUpdate","updateUser","ProductListScreen","loadingDelete","errorDelete","loadingCreate","errorCreate","successCreate","createdProduct","deleteProduct","category","brand","setPrice","setImage","setBrand","setCountInStock","setCategory","setDescription","uploading","setUploading","uploadFileHandler","file","files","formData","FormData","append","console","updateProduct","min","step","File","custom","OrderListScreen","App","path","component","UserEditScreen","exact","ProductEditScreen","reportWebVitals","onPerfEntry","Function","then","getCLS","getFID","getFCP","getLCP","getTTFB","ReactDOM","getElementById"],"mappings":"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","file":"static/js/main.e6a446d8.chunk.js","sourcesContent":["export const PRODUCT_LIST_REQUEST = 'PRODUCT_LIST_REQUEST'\r\nexport const PRODUCT_LIST_SUCCESS = 'PRODUCT_LIST_SUCCESS'\r\nexport const PRODUCT_LIST_FAIL = 'PRODUCT_LIST_FAIL'\r\n\r\nexport const PRODUCT_DETAILS_REQUEST = 'PRODUCT_DETAILS_REQUEST'\r\nexport const PRODUCT_DETAILS_SUCCESS = 'PRODUCT_DETAILS_SUCCESS'\r\nexport const PRODUCT_DETAILS_FAIL = 'PRODUCT_DETAILS_FAIL'\r\n\r\nexport const PRODUCT_DELETE_REQUEST = 'PRODUCT_DELETE_REQUEST'\r\nexport const PRODUCT_DELETE_SUCCESS = 'PRODUCT_DELETE_SUCCESS'\r\nexport const PRODUCT_DELETE_FAIL = 'PRODUCT_DELETE_FAIL'\r\n\r\nexport const PRODUCT_CREATE_REQUEST = 'PRODUCT_CREATE_REQUEST'\r\nexport const PRODUCT_CREATE_SUCCESS = 'PRODUCT_CREATE_SUCCESS'\r\nexport const PRODUCT_CREATE_FAIL = 'PRODUCT_CREATE_FAIL'\r\nexport const PRODUCT_CREATE_RESET = 'PRODUCT_CREATE_RESET'\r\n\r\nexport const PRODUCT_UPDATE_REQUEST = 'PRODUCT_UPDATE_REQUEST'\r\nexport const PRODUCT_UPDATE_SUCCESS = 'PRODUCT_UPDATE_SUCCESS'\r\nexport const PRODUCT_UPDATE_FAIL = 'PRODUCT_UPDATE_FAIL'\r\nexport const PRODUCT_UPDATE_RESET = 'PRODUCT_UPDATE_RESET'\r\n\r\nexport const PRODUCT_CREATE_REVIEW_REQUEST = 'PRODUCT_CREATE_REVIEW_REQUEST'\r\nexport const PRODUCT_CREATE_REVIEW_SUCCESS = 'PRODUCT_CREATE_REVIEW_SUCCESS'\r\nexport const PRODUCT_CREATE_REVIEW_FAIL = 'PRODUCT_CREATE_REVIEW_FAIL'\r\nexport const PRODUCT_CREATE_REVIEW_RESET = 'PRODUCT_CREATE_REVIEW_RESET'\r\n\r\nexport const PRODUCT_TOP_REQUEST = 'PRODUCT_TOP_REQUEST'\r\nexport const PRODUCT_TOP_SUCCESS = 'PRODUCT_TOP_SUCCESS'\r\nexport const PRODUCT_TOP_FAIL = 'PRODUCT_TOP_FAIL'\r\n","export const CART_ADD_ITEM = 'CART_ADD_ITEM'\r\nexport const CART_CLEAR_ITEMS = 'CART_CLEAR_ITEMS'\r\nexport const CART_REMOVE_ITEM = 'CART_REMOVE_ITEM'\r\nexport const CART_SAVE_SHIPPING_ADDRESS = 'CART_SAVE_SHIPPING_ADDRESS'\r\nexport const CART_SAVE_PAYMENT_METHOD = 'CART_SAVE_PAYMENT_METHOD'\r\n","export const USER_LOGIN_REQUEST = 'USER_LOGIN_REQUEST'\r\nexport const USER_LOGIN_SUCCESS = 'USER_LOGIN_SUCCESS'\r\nexport const USER_LOGIN_FAIL = 'USER_LOGIN_FAIL'\r\nexport const USER_LOGOUT = 'USER_LOGOUT'\r\n\r\nexport const USER_REGISTER_REQUEST = 'USER_REGISTER_REQUEST'\r\nexport const USER_REGISTER_SUCCESS = 'USER_REGISTER_SUCCESS'\r\nexport const USER_REGISTER_FAIL = 'USER_REGISTER_FAIL'\r\n\r\nexport const USER_DETAILS_REQUEST = 'USER_DETAILS_REQUEST'\r\nexport const USER_DETAILS_SUCCESS = 'USER_DETAILS_SUCCESS'\r\nexport const USER_DETAILS_FAIL = 'USER_DETAILS_FAIL'\r\nexport const USER_DETAILS_RESET = 'USER_DETAILS_RESET'\r\n\r\nexport const USER_UPDATE_PROFILE_REQUEST = 'USER_UPDATE_PROFILE_REQUEST'\r\nexport const USER_UPDATE_PROFILE_SUCCESS = 'USER_UPDATE_PROFILE_SUCCESS'\r\nexport const USER_UPDATE_PROFILE_FAIL = 'USER_UPDATE_PROFILE_FAIL'\r\nexport const USER_UPDATE_PROFILE_RESET = 'USER_UPDATE_PROFILE_RESET'\r\n\r\nexport const USER_LIST_REQUEST = 'USER_LIST_REQUEST'\r\nexport const USER_LIST_SUCCESS = 'USER_LIST_SUCCESS'\r\nexport const USER_LIST_FAIL = 'USER_LIST_FAIL'\r\nexport const USER_LIST_RESET = 'USER_LIST_RESET'\r\n\r\nexport const USER_DELETE_REQUEST = 'USER_DELETE_REQUEST'\r\nexport const USER_DELETE_SUCCESS = 'USER_DELETE_SUCCESS'\r\nexport const USER_DELETE_FAIL = 'USER_DELETE_FAIL'\r\n\r\nexport const USER_UPDATE_REQUEST = 'USER_UPDATE_REQUEST'\r\nexport const USER_UPDATE_SUCCESS = 'USER_UPDATE_SUCCESS'\r\nexport const USER_UPDATE_FAIL = 'USER_UPDATE_FAIL'\r\nexport const USER_UPDATE_RESET = 'USER_UPDATE_RESET'\r\n","export const ORDER_CREATE_REQUEST = 'ORDER_CREATE_REQUEST'\r\nexport const ORDER_CREATE_SUCCESS = 'ORDER_CREATE_SUCCESS'\r\nexport const ORDER_CREATE_FAIL = 'ORDER_CREATE_FAIL'\r\nexport const ORDER_CREATE_RESET = 'ORDER_CREATE_RESET'\r\n\r\nexport const ORDER_DETAILS_REQUEST = 'ORDER_DETAILS_REQUEST'\r\nexport const ORDER_DETAILS_SUCCESS = 'ORDER_DETAILS_SUCCESS'\r\nexport const ORDER_DETAILS_FAIL = 'ORDER_DETAILS_FAIL'\r\n\r\nexport const ORDER_PAY_REQUEST = 'ORDER_PAY_REQUEST'\r\nexport const ORDER_PAY_SUCCESS = 'ORDER_PAY_SUCCESS'\r\nexport const ORDER_PAY_FAIL = 'ORDER_PAY_FAIL'\r\nexport const ORDER_PAY_RESET = 'ORDER_PAY_RESET'\r\n\r\nexport const ORDER_LIST_MY_REQUEST = 'ORDER_LIST_MY_REQUEST'\r\nexport const ORDER_LIST_MY_SUCCESS = 'ORDER_LIST_MY_SUCCESS'\r\nexport const ORDER_LIST_MY_FAIL = 'ORDER_LIST_MY_FAIL'\r\nexport const ORDER_LIST_MY_RESET = 'ORDER_LIST_MY_RESET'\r\n\r\nexport const ORDER_LIST_REQUEST = 'ORDER_LIST_REQUEST'\r\nexport const ORDER_LIST_SUCCESS = 'ORDER_LIST_SUCCESS'\r\nexport const ORDER_LIST_FAIL = 'ORDER_LIST_FAIL'\r\n\r\nexport const ORDER_DELIVER_REQUEST = 'ORDER_DELIVER_REQUEST'\r\nexport const ORDER_DELIVER_SUCCESS = 'ORDER_DELIVER_SUCCESS'\r\nexport const ORDER_DELIVER_FAIL = 'ORDER_DELIVER_FAIL'\r\nexport const ORDER_DELIVER_RESET = 'ORDER_DELIVER_RESET'\r\n","import { createStore, combineReducers, applyMiddleware } from 'redux'\r\nimport thunk from 'redux-thunk'\r\nimport { composeWithDevTools } from 'redux-devtools-extension'\r\nimport {\r\n\tproductListReducer,\r\n\tproductDetailsReducer,\r\n\tproductDeleteReducer,\r\n\tproductCreateReducer,\r\n\tproductUpdateReducer,\r\n\tproductReviewCreateReducer,\r\n\tproductTopRatedReducer,\r\n} from './reducers/productReducers'\r\nimport { cartReducer } from './reducers/cartReducers'\r\nimport {\r\n\tuserLoginReducer,\r\n\tuserRegisterReducer,\r\n\tuserDetailsReducer,\r\n\tuserUpdateProfileReducer,\r\n\tuserListReducer,\r\n\tuserDeleteReducer,\r\n\tuserUpdateReducer,\r\n} from './reducers/userReducers'\r\nimport {\r\n\torderCreateReducer,\r\n\torderDetailsReducer,\r\n\torderPayReducer,\r\n\torderListMyReducer,\r\n\torderListReducer,\r\n\torderDeliverReducer,\r\n} from './reducers/orderReducers'\r\n\r\nconst reducer = combineReducers({\r\n\tproductList: productListReducer,\r\n\tproductDetails: productDetailsReducer,\r\n\tcart: cartReducer,\r\n\tuserLogin: userLoginReducer,\r\n\tuserRegister: userRegisterReducer,\r\n\tuserDetails: userDetailsReducer,\r\n\tuserUpdateProfile: userUpdateProfileReducer,\r\n\tuserList: userListReducer,\r\n\tuserUpdate: userUpdateReducer,\r\n\tuserDelete: userDeleteReducer,\r\n\torderCreate: orderCreateReducer,\r\n\torderDetails: orderDetailsReducer,\r\n\torderPay: orderPayReducer,\r\n\torderListMy: orderListMyReducer,\r\n\torderDeliver: orderDeliverReducer,\r\n\tproductDelete: productDeleteReducer,\r\n\tproductCreate: productCreateReducer,\r\n\tproductUpdate: productUpdateReducer,\r\n\torderList: orderListReducer,\r\n\tproductReviewCreate: productReviewCreateReducer,\r\n\tproductTopRated: productTopRatedReducer,\r\n})\r\n\r\n// Get cartItems from local storage\r\nconst cartItemsFromStorage = localStorage.getItem('cartItems')\r\n\t? JSON.parse(localStorage.getItem('cartItems'))\r\n\t: []\r\n// Get userInfo from local storage\r\nconst userInfoFromStorage = localStorage.getItem('userInfo')\r\n\t? JSON.parse(localStorage.getItem('userInfo'))\r\n\t: null\r\n// Get shippingAddress from local storage\r\nconst shipppingAddressFromStorage = localStorage.getItem('shippingAddress')\r\n\t? JSON.parse(localStorage.getItem('shippingAddress'))\r\n\t: {}\r\n// Get paymentMethod from local storage\r\nconst paymentMethodFromStorage = localStorage.getItem('paymentMethod')\r\n\t? JSON.parse(localStorage.getItem('paymentMethod'))\r\n\t: {}\r\n\r\n// Create initial state\r\nconst initialState = {\r\n\tcart: {\r\n\t\tcartItems: cartItemsFromStorage,\r\n\t\tshippingAddress: shipppingAddressFromStorage,\r\n\t\tpaymentMethod: paymentMethodFromStorage,\r\n\t},\r\n\tuserLogin: { userInfo: userInfoFromStorage },\r\n}\r\n\r\n// Set middleware to thunk middleware\r\nconst middleware = [thunk]\r\n\r\n// Create store\r\n// Pass initial state to load things at that point\r\n// Setup redux-devtools-extension\r\nconst store = createStore(\r\n\treducer,\r\n\tinitialState,\r\n\tcomposeWithDevTools(applyMiddleware(...middleware))\r\n)\r\n\r\nexport default store\r\n","import {\r\n\tPRODUCT_LIST_REQUEST,\r\n\tPRODUCT_LIST_SUCCESS,\r\n\tPRODUCT_LIST_FAIL,\r\n\tPRODUCT_DETAILS_REQUEST,\r\n\tPRODUCT_DETAILS_SUCCESS,\r\n\tPRODUCT_DETAILS_FAIL,\r\n\tPRODUCT_DELETE_REQUEST,\r\n\tPRODUCT_DELETE_SUCCESS,\r\n\tPRODUCT_DELETE_FAIL,\r\n\tPRODUCT_CREATE_REQUEST,\r\n\tPRODUCT_CREATE_SUCCESS,\r\n\tPRODUCT_CREATE_FAIL,\r\n\tPRODUCT_CREATE_RESET,\r\n\tPRODUCT_UPDATE_REQUEST,\r\n\tPRODUCT_UPDATE_SUCCESS,\r\n\tPRODUCT_UPDATE_FAIL,\r\n\tPRODUCT_UPDATE_RESET,\r\n\tPRODUCT_CREATE_REVIEW_REQUEST,\r\n\tPRODUCT_CREATE_REVIEW_SUCCESS,\r\n\tPRODUCT_CREATE_REVIEW_FAIL,\r\n\tPRODUCT_CREATE_REVIEW_RESET,\r\n\tPRODUCT_TOP_REQUEST,\r\n\tPRODUCT_TOP_SUCCESS,\r\n\tPRODUCT_TOP_FAIL,\r\n} from '../constants/productConstants'\r\n\r\n// productListReducer for all products\r\nexport const productListReducer = (state = { products: [] }, action) => {\r\n\tswitch (action.type) {\r\n\t\t// Requests product list\r\n\t\t// products is an empty array because its still loading\r\n\t\t// loading will NOT be done yet, so true\r\n\t\tcase PRODUCT_LIST_REQUEST:\r\n\t\t\treturn { loading: true, products: [] }\r\n\r\n\t\t// On success\r\n\t\t// products will contain data as a payload\r\n\t\t// loading will be done, so false\r\n\t\tcase PRODUCT_LIST_SUCCESS:\r\n\t\t\treturn {\r\n\t\t\t\tloading: false,\r\n\t\t\t\tproducts: action.payload.products,\r\n\t\t\t\tpages: action.payload.pages,\r\n\t\t\t\tpage: action.payload.page,\r\n\t\t\t}\r\n\r\n\t\t// On fail\r\n\t\t// products will contain the error as a payload\r\n\t\t// loading will be done, so false\r\n\t\tcase PRODUCT_LIST_FAIL:\r\n\t\t\treturn { loading: false, error: action.payload }\r\n\r\n\t\t// In any other case, just return the state\r\n\t\tdefault:\r\n\t\t\treturn state\r\n\t}\r\n}\r\n\r\n// productDetailsReducer for a single product\r\nexport const productDetailsReducer = (\r\n\tstate = { product: { reviews: [] } },\r\n\taction\r\n) => {\r\n\tswitch (action.type) {\r\n\t\t// Requests a product\r\n\t\t// product is an empty object because its still loading\r\n\t\t// reviews is an empty array because its still loading\r\n\t\t// loading will NOT be done yet, so true\r\n\t\t// add contents of state using a spread operator (...)\r\n\t\tcase PRODUCT_DETAILS_REQUEST:\r\n\t\t\treturn { loading: true, ...state }\r\n\r\n\t\t// On success\r\n\t\t// product will contain data as a payload\r\n\t\t// loading will be done, so false\r\n\t\tcase PRODUCT_DETAILS_SUCCESS:\r\n\t\t\treturn { loading: false, product: action.payload }\r\n\r\n\t\t// On fail\r\n\t\t// product will contain the error as a payload\r\n\t\t// loading will be done, so false\r\n\t\tcase PRODUCT_DETAILS_FAIL:\r\n\t\t\treturn { loading: false, error: action.payload }\r\n\r\n\t\t// In any other case, just return the state\r\n\t\tdefault:\r\n\t\t\treturn state\r\n\t}\r\n}\r\n// productDeleteReducer for admin users\r\nexport const productDeleteReducer = (state = {}, action) => {\r\n\tswitch (action.type) {\r\n\t\t// loading will NOT be done yet, so true\r\n\t\tcase PRODUCT_DELETE_REQUEST:\r\n\t\t\treturn { loading: true }\r\n\r\n\t\t// On success\r\n\t\t// loading will be done, so false\r\n\t\tcase PRODUCT_DELETE_SUCCESS:\r\n\t\t\treturn { loading: false, success: true }\r\n\r\n\t\t// On fail\r\n\t\t// the error will contain the payload\r\n\t\t// loading will be done, so false\r\n\t\tcase PRODUCT_DELETE_FAIL:\r\n\t\t\treturn { loading: false, error: action.payload }\r\n\r\n\t\t// In any other case, just return the state\r\n\t\tdefault:\r\n\t\t\treturn state\r\n\t}\r\n}\r\n// productCreateReducer for admin users\r\nexport const productCreateReducer = (state = {}, action) => {\r\n\tswitch (action.type) {\r\n\t\t// loading will NOT be done yet, so true\r\n\t\tcase PRODUCT_CREATE_REQUEST:\r\n\t\t\treturn { loading: true }\r\n\r\n\t\t// On success\r\n\t\t// loading will be done, so false\r\n\t\tcase PRODUCT_CREATE_SUCCESS:\r\n\t\t\treturn { loading: false, success: true, product: action.payload }\r\n\r\n\t\t// On fail\r\n\t\t// the error will contain the payload\r\n\t\t// loading will be done, so false\r\n\t\tcase PRODUCT_CREATE_FAIL:\r\n\t\t\treturn { loading: false, error: action.payload }\r\n\r\n\t\tcase PRODUCT_CREATE_RESET:\r\n\t\t\treturn {}\r\n\r\n\t\t// In any other case, just return the state\r\n\t\tdefault:\r\n\t\t\treturn state\r\n\t}\r\n}\r\n// productUpdateReducer for admin users\r\nexport const productUpdateReducer = (state = { product: {} }, action) => {\r\n\tswitch (action.type) {\r\n\t\t// loading will NOT be done yet, so true\r\n\t\tcase PRODUCT_UPDATE_REQUEST:\r\n\t\t\treturn { loading: true }\r\n\r\n\t\t// On success\r\n\t\t// loading will be done, so false\r\n\t\tcase PRODUCT_UPDATE_SUCCESS:\r\n\t\t\treturn { loading: false, success: true, product: action.payload }\r\n\r\n\t\t// On fail\r\n\t\t// the error will contain the payload\r\n\t\t// loading will be done, so false\r\n\t\tcase PRODUCT_UPDATE_FAIL:\r\n\t\t\treturn { loading: false, error: action.payload }\r\n\r\n\t\tcase PRODUCT_UPDATE_RESET:\r\n\t\t\treturn { product: {} }\r\n\r\n\t\t// In any other case, just return the state\r\n\t\tdefault:\r\n\t\t\treturn state\r\n\t}\r\n}\r\n// productReviewCreateReducer for logged in users\r\nexport const productReviewCreateReducer = (state = {}, action) => {\r\n\tswitch (action.type) {\r\n\t\t// loading will NOT be done yet, so true\r\n\t\tcase PRODUCT_CREATE_REVIEW_REQUEST:\r\n\t\t\treturn { loading: true }\r\n\r\n\t\t// On success\r\n\t\t// loading will be done, so false\r\n\t\tcase PRODUCT_CREATE_REVIEW_SUCCESS:\r\n\t\t\treturn { loading: false, success: true }\r\n\r\n\t\t// On fail\r\n\t\t// the error will contain the payload\r\n\t\t// loading will be done, so false\r\n\t\tcase PRODUCT_CREATE_REVIEW_FAIL:\r\n\t\t\treturn { loading: false, error: action.payload }\r\n\r\n\t\tcase PRODUCT_CREATE_REVIEW_RESET:\r\n\t\t\treturn {}\r\n\r\n\t\t// In any other case, just return the state\r\n\t\tdefault:\r\n\t\t\treturn state\r\n\t}\r\n}\r\n// productTopRatedReducer\r\nexport const productTopRatedReducer = (state = { products: [] }, action) => {\r\n\tswitch (action.type) {\r\n\t\t// loading will NOT be done yet, so true\r\n\t\tcase PRODUCT_TOP_REQUEST:\r\n\t\t\treturn { loading: true, products: [] }\r\n\r\n\t\t// On success\r\n\t\t// loading will be done, so false\r\n\t\tcase PRODUCT_TOP_SUCCESS:\r\n\t\t\treturn { loading: false, products: action.payload }\r\n\r\n\t\t// On fail\r\n\t\t// the error will contain the payload\r\n\t\t// loading will be done, so false\r\n\t\tcase PRODUCT_TOP_FAIL:\r\n\t\t\treturn { loading: false, error: action.payload }\r\n\r\n\t\t// In any other case, just return the state\r\n\t\tdefault:\r\n\t\t\treturn state\r\n\t}\r\n}\r\n","import {\r\n\tCART_ADD_ITEM,\r\n\tCART_REMOVE_ITEM,\r\n\tCART_SAVE_SHIPPING_ADDRESS,\r\n\tCART_SAVE_PAYMENT_METHOD,\r\n\tCART_CLEAR_ITEMS,\r\n} from '../constants/cartConstants'\r\n\r\nexport const cartReducer = (\r\n\tstate = { cartItems: [], shippingAddress: {} },\r\n\taction\r\n) => {\r\n\tswitch (action.type) {\r\n\t\tcase CART_ADD_ITEM:\r\n\t\t\t// Get item from the payload\r\n\t\t\tconst item = action.payload\r\n\r\n\t\t\t// Assign existItem to item.product if their prpduct ids match\r\n\t\t\tconst existItem = state.cartItems.find((x) => x.product === item.product)\r\n\r\n\t\t\t// Check if item exists or Not\r\n\t\t\tif (existItem) {\r\n\t\t\t\treturn {\r\n\t\t\t\t\t...state,\r\n\t\t\t\t\tcartItems: state.cartItems.map((x) =>\r\n\t\t\t\t\t\tx.product === existItem.product ? item : x\r\n\t\t\t\t\t),\r\n\t\t\t\t}\r\n\t\t\t} else {\r\n\t\t\t\treturn {\r\n\t\t\t\t\t...state,\r\n\t\t\t\t\tcartItems: [...state.cartItems, item],\r\n\t\t\t\t}\r\n\t\t\t}\r\n\r\n\t\tcase CART_REMOVE_ITEM:\r\n\t\t\t// Filter out cart item id that does NOT match with payload\r\n\t\t\treturn {\r\n\t\t\t\t...state,\r\n\t\t\t\tcartItems: state.cartItems.filter((x) => x.product !== action.payload),\r\n\t\t\t}\r\n\t\tcase CART_SAVE_SHIPPING_ADDRESS:\r\n\t\t\treturn {\r\n\t\t\t\t...state,\r\n\t\t\t\tshippingAddress: action.payload,\r\n\t\t\t}\r\n\t\tcase CART_SAVE_PAYMENT_METHOD:\r\n\t\t\treturn {\r\n\t\t\t\t...state,\r\n\t\t\t\tpaymentMethod: action.payload,\r\n\t\t\t}\r\n\t\tcase CART_CLEAR_ITEMS:\r\n\t\t\treturn {\r\n\t\t\t\t...state,\r\n\t\t\t\tcartItems: [],\r\n\t\t\t}\r\n\t\t// In any other case, just return the state\r\n\t\tdefault:\r\n\t\t\treturn state\r\n\t}\r\n}\r\n","import {\r\n\tUSER_LOGIN_REQUEST,\r\n\tUSER_LOGIN_SUCCESS,\r\n\tUSER_LOGIN_FAIL,\r\n\tUSER_LOGOUT,\r\n\tUSER_REGISTER_REQUEST,\r\n\tUSER_REGISTER_SUCCESS,\r\n\tUSER_REGISTER_FAIL,\r\n\tUSER_DETAILS_REQUEST,\r\n\tUSER_DETAILS_SUCCESS,\r\n\tUSER_DETAILS_FAIL,\r\n\tUSER_DETAILS_RESET,\r\n\tUSER_UPDATE_PROFILE_REQUEST,\r\n\tUSER_UPDATE_PROFILE_SUCCESS,\r\n\tUSER_UPDATE_PROFILE_FAIL,\r\n\tUSER_UPDATE_PROFILE_RESET,\r\n\tUSER_LIST_REQUEST,\r\n\tUSER_LIST_SUCCESS,\r\n\tUSER_LIST_FAIL,\r\n\tUSER_LIST_RESET,\r\n\tUSER_DELETE_REQUEST,\r\n\tUSER_DELETE_SUCCESS,\r\n\tUSER_DELETE_FAIL,\r\n\tUSER_UPDATE_REQUEST,\r\n\tUSER_UPDATE_SUCCESS,\r\n\tUSER_UPDATE_FAIL,\r\n\tUSER_UPDATE_RESET,\r\n} from '../constants/userConstants'\r\n\r\n// userLoginReducer for users\r\nexport const userLoginReducer = (state = {}, action) => {\r\n\tswitch (action.type) {\r\n\t\t// loading will NOT be done yet, so true\r\n\t\tcase USER_LOGIN_REQUEST:\r\n\t\t\treturn { loading: true }\r\n\r\n\t\t// On success\r\n\t\t// userInfo will contain data as a payload\r\n\t\t// loading will be done, so false\r\n\t\tcase USER_LOGIN_SUCCESS:\r\n\t\t\treturn { loading: false, userInfo: action.payload }\r\n\r\n\t\t// On fail\r\n\t\t// the error will contain the payload\r\n\t\t// loading will be done, so false\r\n\t\tcase USER_LOGIN_FAIL:\r\n\t\t\treturn { loading: false, error: action.payload }\r\n\r\n\t\t// On Logout\r\n\t\tcase USER_LOGOUT:\r\n\t\t\treturn {}\r\n\r\n\t\t// In any other case, just return the state\r\n\t\tdefault:\r\n\t\t\treturn state\r\n\t}\r\n}\r\n// userRegisterReducer for users\r\nexport const userRegisterReducer = (state = {}, action) => {\r\n\tswitch (action.type) {\r\n\t\t// loading will NOT be done yet, so true\r\n\t\tcase USER_REGISTER_REQUEST:\r\n\t\t\treturn { loading: true }\r\n\r\n\t\t// On success\r\n\t\t// userInfo will contain data as a payload\r\n\t\t// loading will be done, so false\r\n\t\tcase USER_REGISTER_SUCCESS:\r\n\t\t\treturn { loading: false, userInfo: action.payload }\r\n\r\n\t\t// On fail\r\n\t\t// the error will contain the payload\r\n\t\t// loading will be done, so false\r\n\t\tcase USER_REGISTER_FAIL:\r\n\t\t\treturn { loading: false, error: action.payload }\r\n\r\n\t\t// In any other case, just return the state\r\n\t\tdefault:\r\n\t\t\treturn state\r\n\t}\r\n}\r\n// userDetailsReducer for users\r\nexport const userDetailsReducer = (state = { user: {} }, action) => {\r\n\tswitch (action.type) {\r\n\t\t// loading will NOT be done yet, so true\r\n\t\tcase USER_DETAILS_REQUEST:\r\n\t\t\treturn { ...state, loading: true }\r\n\r\n\t\t// On success\r\n\t\t// user will contain data as a payload\r\n\t\t// loading will be done, so false\r\n\t\tcase USER_DETAILS_SUCCESS:\r\n\t\t\treturn { loading: false, user: action.payload }\r\n\r\n\t\t// On fail\r\n\t\t// the error will contain the payload\r\n\t\t// loading will be done, so false\r\n\t\tcase USER_DETAILS_FAIL:\r\n\t\t\treturn { loading: false, error: action.payload }\r\n\t\tcase USER_DETAILS_RESET:\r\n\t\t\treturn { user: {} }\r\n\r\n\t\t// In any other case, just return the state\r\n\t\tdefault:\r\n\t\t\treturn state\r\n\t}\r\n}\r\n// userUpdateProfileReducer for users\r\nexport const userUpdateProfileReducer = (state = {}, action) => {\r\n\tswitch (action.type) {\r\n\t\t// loading will NOT be done yet, so true\r\n\t\tcase USER_UPDATE_PROFILE_REQUEST:\r\n\t\t\treturn { loading: true }\r\n\r\n\t\t// On success\r\n\t\t// userInfo will contain data as a payload\r\n\t\t// loading will be done, so false\r\n\t\tcase USER_UPDATE_PROFILE_SUCCESS:\r\n\t\t\treturn { loading: false, success: true, userInfo: action.payload }\r\n\r\n\t\t// On fail\r\n\t\t// the error will contain the payload\r\n\t\t// loading will be done, so false\r\n\t\tcase USER_UPDATE_PROFILE_FAIL:\r\n\t\t\treturn { loading: false, error: action.payload }\r\n\r\n\t\t// Then reset\r\n\t\tcase USER_UPDATE_PROFILE_RESET:\r\n\t\t\treturn {}\r\n\r\n\t\t// In any other case, just return the state\r\n\t\tdefault:\r\n\t\t\treturn state\r\n\t}\r\n}\r\n// userListReducer for admin users\r\nexport const userListReducer = (state = { users: [] }, action) => {\r\n\tswitch (action.type) {\r\n\t\t// loading will NOT be done yet, so true\r\n\t\tcase USER_LIST_REQUEST:\r\n\t\t\treturn { loading: true }\r\n\r\n\t\t// On success\r\n\t\t// users will contain data as a payload\r\n\t\t// loading will be done, so false\r\n\t\tcase USER_LIST_SUCCESS:\r\n\t\t\treturn { loading: false, users: action.payload }\r\n\r\n\t\t// On fail\r\n\t\t// the error will contain the payload\r\n\t\t// loading will be done, so false\r\n\t\tcase USER_LIST_FAIL:\r\n\t\t\treturn { loading: false, error: action.payload }\r\n\t\tcase USER_LIST_RESET:\r\n\t\t\treturn { users: [] }\r\n\r\n\t\t// In any other case, just return the state\r\n\t\tdefault:\r\n\t\t\treturn state\r\n\t}\r\n}\r\n// userDeleteReducer for admin users\r\nexport const userDeleteReducer = (state = {}, action) => {\r\n\tswitch (action.type) {\r\n\t\t// loading will NOT be done yet, so true\r\n\t\tcase USER_DELETE_REQUEST:\r\n\t\t\treturn { loading: true }\r\n\r\n\t\t// On success\r\n\t\t// loading will be done, so false\r\n\t\tcase USER_DELETE_SUCCESS:\r\n\t\t\treturn { loading: false, success: true }\r\n\r\n\t\t// On fail\r\n\t\t// the error will contain the payload\r\n\t\t// loading will be done, so false\r\n\t\tcase USER_DELETE_FAIL:\r\n\t\t\treturn { loading: false, error: action.payload }\r\n\r\n\t\t// In any other case, just return the state\r\n\t\tdefault:\r\n\t\t\treturn state\r\n\t}\r\n}\r\n// userUpdateReducer for admin users\r\nexport const userUpdateReducer = (state = { user: {} }, action) => {\r\n\tswitch (action.type) {\r\n\t\t// loading will NOT be done yet, so true\r\n\t\tcase USER_UPDATE_REQUEST:\r\n\t\t\treturn { loading: true }\r\n\r\n\t\t// On success\r\n\t\t// loading will be done, so false\r\n\t\tcase USER_UPDATE_SUCCESS:\r\n\t\t\treturn { loading: false, success: true }\r\n\r\n\t\t// On fail\r\n\t\t// the error will contain the payload\r\n\t\t// loading will be done, so false\r\n\t\tcase USER_UPDATE_FAIL:\r\n\t\t\treturn { loading: false, error: action.payload }\r\n\r\n\t\tcase USER_UPDATE_RESET:\r\n\t\t\treturn { user: {} }\r\n\r\n\t\t// In any other case, just return the state\r\n\t\tdefault:\r\n\t\t\treturn state\r\n\t}\r\n}\r\n","import {\r\n\tORDER_CREATE_REQUEST,\r\n\tORDER_CREATE_SUCCESS,\r\n\tORDER_CREATE_FAIL,\r\n\tORDER_CREATE_RESET,\r\n\tORDER_DETAILS_REQUEST,\r\n\tORDER_DETAILS_SUCCESS,\r\n\tORDER_DETAILS_FAIL,\r\n\tORDER_PAY_REQUEST,\r\n\tORDER_PAY_SUCCESS,\r\n\tORDER_PAY_FAIL,\r\n\tORDER_PAY_RESET,\r\n\tORDER_LIST_MY_REQUEST,\r\n\tORDER_LIST_MY_SUCCESS,\r\n\tORDER_LIST_MY_FAIL,\r\n\tORDER_LIST_MY_RESET,\r\n\tORDER_LIST_REQUEST,\r\n\tORDER_LIST_SUCCESS,\r\n\tORDER_LIST_FAIL,\r\n\tORDER_DELIVER_REQUEST,\r\n\tORDER_DELIVER_SUCCESS,\r\n\tORDER_DELIVER_FAIL,\r\n\tORDER_DELIVER_RESET,\r\n} from '../constants/orderConstants'\r\n\r\nexport const orderCreateReducer = (state = {}, action) => {\r\n\tswitch (action.type) {\r\n\t\tcase ORDER_CREATE_REQUEST:\r\n\t\t\treturn {\r\n\t\t\t\tloading: true,\r\n\t\t\t}\r\n\t\tcase ORDER_CREATE_SUCCESS:\r\n\t\t\treturn {\r\n\t\t\t\tloading: false,\r\n\t\t\t\tsuccess: true,\r\n\t\t\t\torder: action.payload,\r\n\t\t\t}\r\n\t\tcase ORDER_CREATE_FAIL:\r\n\t\t\treturn { loading: false, error: action.payload }\r\n\t\tcase ORDER_CREATE_RESET:\r\n\t\t\treturn {}\r\n\t\t// In any other case, just return the state\r\n\t\tdefault:\r\n\t\t\treturn state\r\n\t}\r\n}\r\nexport const orderDetailsReducer = (\r\n\tstate = { loading: true, orderItems: [], shippingAddress: {} },\r\n\taction\r\n) => {\r\n\tswitch (action.type) {\r\n\t\tcase ORDER_DETAILS_REQUEST:\r\n\t\t\treturn {\r\n\t\t\t\t...state,\r\n\t\t\t\tloading: true,\r\n\t\t\t}\r\n\t\tcase ORDER_DETAILS_SUCCESS:\r\n\t\t\treturn {\r\n\t\t\t\tloading: false,\r\n\t\t\t\torder: action.payload,\r\n\t\t\t}\r\n\t\tcase ORDER_DETAILS_FAIL:\r\n\t\t\treturn { loading: false, error: action.payload }\r\n\t\t// In any other case, just return the state\r\n\t\tdefault:\r\n\t\t\treturn state\r\n\t}\r\n}\r\nexport const orderPayReducer = (state = {}, action) => {\r\n\tswitch (action.type) {\r\n\t\tcase ORDER_PAY_REQUEST:\r\n\t\t\treturn { loading: true }\r\n\t\tcase ORDER_PAY_SUCCESS:\r\n\t\t\treturn {\r\n\t\t\t\tloading: false,\r\n\t\t\t\tsuccess: true,\r\n\t\t\t}\r\n\t\tcase ORDER_PAY_FAIL:\r\n\t\t\treturn { loading: false, error: action.payload }\r\n\t\tcase ORDER_PAY_RESET:\r\n\t\t\treturn {}\r\n\t\t// In any other case, just return the state\r\n\t\tdefault:\r\n\t\t\treturn state\r\n\t}\r\n}\r\nexport const orderListMyReducer = (state = { orders: [] }, action) => {\r\n\tswitch (action.type) {\r\n\t\tcase ORDER_LIST_MY_REQUEST:\r\n\t\t\treturn { loading: true }\r\n\t\tcase ORDER_LIST_MY_SUCCESS:\r\n\t\t\treturn {\r\n\t\t\t\tloading: false,\r\n\t\t\t\torders: action.payload,\r\n\t\t\t}\r\n\t\tcase ORDER_LIST_MY_FAIL:\r\n\t\t\treturn { loading: false, error: action.payload }\r\n\t\tcase ORDER_LIST_MY_RESET:\r\n\t\t\treturn { orders: [] }\r\n\t\t// In any other case, just return the state\r\n\t\tdefault:\r\n\t\t\treturn state\r\n\t}\r\n}\r\nexport const orderListReducer = (state = { orders: [] }, action) => {\r\n\tswitch (action.type) {\r\n\t\tcase ORDER_LIST_REQUEST:\r\n\t\t\treturn { loading: true }\r\n\t\tcase ORDER_LIST_SUCCESS:\r\n\t\t\treturn {\r\n\t\t\t\tloading: false,\r\n\t\t\t\torders: action.payload,\r\n\t\t\t}\r\n\t\tcase ORDER_LIST_FAIL:\r\n\t\t\treturn { loading: false, error: action.payload }\r\n\t\t// In any other case, just return the state\r\n\t\tdefault:\r\n\t\t\treturn state\r\n\t}\r\n}\r\nexport const orderDeliverReducer = (state = {}, action) => {\r\n\tswitch (action.type) {\r\n\t\tcase ORDER_DELIVER_REQUEST:\r\n\t\t\treturn { loading: true }\r\n\t\tcase ORDER_DELIVER_SUCCESS:\r\n\t\t\treturn {\r\n\t\t\t\tloading: false,\r\n\t\t\t\tsuccess: true,\r\n\t\t\t}\r\n\t\tcase ORDER_DELIVER_FAIL:\r\n\t\t\treturn { loading: false, error: action.payload }\r\n\t\tcase ORDER_DELIVER_RESET:\r\n\t\t\treturn {}\r\n\t\t// In any other case, just return the state\r\n\t\tdefault:\r\n\t\t\treturn state\r\n\t}\r\n}\r\n","import React, { useState } from 'react'\r\nimport { Form, Button } from 'react-bootstrap'\r\n\r\nconst SearchBox = ({ history }) => {\r\n\tconst [keyword, setKeyword] = useState('')\r\n\r\n\tconst submitHandler = (e) => {\r\n\t\te.preventDefault()\r\n\t\tif (keyword.trim()) {\r\n\t\t\thistory.push(`/search/${keyword}`)\r\n\t\t} else {\r\n\t\t\thistory.push('/')\r\n\t\t}\r\n\t}\r\n\treturn (\r\n\t\t<Form onSubmit={submitHandler} inline>\r\n\t\t\t<Form.Control\r\n\t\t\t\ttype='text'\r\n\t\t\t\tname='q'\r\n\t\t\t\tonChange={(e) => setKeyword(e.target.value)}\r\n\t\t\t\tplaceholder='Search Products...'\r\n\t\t\t\tclassName='mr-sm-2 ml-sm-5'\r\n\t\t\t></Form.Control>\r\n\t\t\t<Button type='submit' className='btn btn-secondary p-2'>\r\n\t\t\t\tSearch\r\n\t\t\t</Button>\r\n\t\t</Form>\r\n\t)\r\n}\r\n\r\nexport default SearchBox\r\n","import axios from 'axios'\r\nimport {\r\n\tUSER_LOGIN_REQUEST,\r\n\tUSER_LOGIN_SUCCESS,\r\n\tUSER_LOGIN_FAIL,\r\n\tUSER_LOGOUT,\r\n\tUSER_REGISTER_REQUEST,\r\n\tUSER_REGISTER_SUCCESS,\r\n\tUSER_REGISTER_FAIL,\r\n\tUSER_DETAILS_REQUEST,\r\n\tUSER_DETAILS_SUCCESS,\r\n\tUSER_DETAILS_FAIL,\r\n\tUSER_DETAILS_RESET,\r\n\tUSER_UPDATE_PROFILE_REQUEST,\r\n\tUSER_UPDATE_PROFILE_SUCCESS,\r\n\tUSER_UPDATE_PROFILE_FAIL,\r\n\tUSER_LIST_REQUEST,\r\n\tUSER_LIST_SUCCESS,\r\n\tUSER_LIST_FAIL,\r\n\tUSER_LIST_RESET,\r\n\tUSER_DELETE_REQUEST,\r\n\tUSER_DELETE_SUCCESS,\r\n\tUSER_DELETE_FAIL,\r\n\tUSER_UPDATE_REQUEST,\r\n\tUSER_UPDATE_SUCCESS,\r\n\tUSER_UPDATE_FAIL,\r\n} from '../constants/userConstants'\r\nimport { ORDER_LIST_MY_RESET } from '../constants/orderConstants'\r\n\r\n// Actions to login\r\nexport const login = (email, password) => async (dispatch) => {\r\n\ttry {\r\n\t\tdispatch({ type: USER_LOGIN_REQUEST })\r\n\r\n\t\tconst config = {\r\n\t\t\theaders: {\r\n\t\t\t\t'Content-Type': 'application/json',\r\n\t\t\t},\r\n\t\t}\r\n\r\n\t\t// Make post request to login\r\n\t\tconst { data } = await axios.post(\r\n\t\t\t'/api/users/login',\r\n\t\t\t{ email, password },\r\n\t\t\tconfig\r\n\t\t)\r\n\r\n\t\tdispatch({\r\n\t\t\ttype: USER_LOGIN_SUCCESS,\r\n\t\t\tpayload: data,\r\n\t\t})\r\n\t\t// Set user to local storage\r\n\t\tlocalStorage.setItem('userInfo', JSON.stringify(data))\r\n\t} catch (error) {\r\n\t\tdispatch({\r\n\t\t\ttype: USER_LOGIN_FAIL,\r\n\t\t\tpayload:\r\n\t\t\t\t// Send a custom error message\r\n\t\t\t\t// Else send a generic error message\r\n\t\t\t\terror.response && error.response.data.message\r\n\t\t\t\t\t? error.response.data.message\r\n\t\t\t\t\t: error.message,\r\n\t\t})\r\n\t}\r\n}\r\n// Actions to logout\r\nexport const logout = () => (dispatch) => {\r\n\tlocalStorage.removeItem('userInfo')\r\n\tlocalStorage.removeItem('cartItems')\r\n\tlocalStorage.removeItem('shippingAddress')\r\n\tlocalStorage.removeItem('paymentMethod')\r\n\tdispatch({ type: USER_LOGOUT })\r\n\tdispatch({ type: USER_DETAILS_RESET })\r\n\tdispatch({ type: ORDER_LIST_MY_RESET })\r\n\tdispatch({ type: USER_LIST_RESET })\r\n\tdocument.location.href = '/login'\r\n}\r\n// Actions to register\r\nexport const register = (name, email, password) => async (dispatch) => {\r\n\ttry {\r\n\t\tdispatch({ type: USER_REGISTER_REQUEST })\r\n\r\n\t\tconst config = {\r\n\t\t\theaders: {\r\n\t\t\t\t'Content-Type': 'application/json',\r\n\t\t\t},\r\n\t\t}\r\n\r\n\t\t// Make post request to register\r\n\t\tconst { data } = await axios.post(\r\n\t\t\t'/api/users',\r\n\t\t\t{ name, email, password },\r\n\t\t\tconfig\r\n\t\t)\r\n\t\t// Dispatch register\r\n\t\tdispatch({\r\n\t\t\ttype: USER_REGISTER_SUCCESS,\r\n\t\t\tpayload: data,\r\n\t\t})\r\n\t\t// Auto login after registration\r\n\t\tdispatch({\r\n\t\t\ttype: USER_LOGIN_SUCCESS,\r\n\t\t\tpayload: data,\r\n\t\t})\r\n\t\t// Set user to local storage\r\n\t\tlocalStorage.setItem('userInfo', JSON.stringify(data))\r\n\t} catch (error) {\r\n\t\tdispatch({\r\n\t\t\ttype: USER_REGISTER_FAIL,\r\n\t\t\tpayload:\r\n\t\t\t\t// Send a custom error message\r\n\t\t\t\t// Else send a generic error message\r\n\t\t\t\terror.response && error.response.data.message\r\n\t\t\t\t\t? error.response.data.message\r\n\t\t\t\t\t: error.message,\r\n\t\t})\r\n\t}\r\n}\r\n// Actions to get user details\r\nexport const getUserDetails = (id) => async (dispatch, getState) => {\r\n\ttry {\r\n\t\tdispatch({ type: USER_DETAILS_REQUEST })\r\n\r\n\t\t// Get userInfo from userLogin by destructuring\r\n\t\tconst {\r\n\t\t\tuserLogin: { userInfo },\r\n\t\t} = getState()\r\n\r\n\t\tconst config = {\r\n\t\t\theaders: {\r\n\t\t\t\t'Content-Type': 'application/json',\r\n\t\t\t\tAuthorization: `Bearer ${userInfo.token}`,\r\n\t\t\t},\r\n\t\t}\r\n\r\n\t\t// Make get request to get user details\r\n\t\tconst { data } = await axios.get(`/api/users/${id}`, config)\r\n\t\t// Dispatch user details\r\n\t\tdispatch({\r\n\t\t\ttype: USER_DETAILS_SUCCESS,\r\n\t\t\tpayload: data,\r\n\t\t})\r\n\t} catch (error) {\r\n\t\tdispatch({\r\n\t\t\ttype: USER_DETAILS_FAIL,\r\n\t\t\tpayload:\r\n\t\t\t\t// Send a custom error message\r\n\t\t\t\t// Else send a generic error message\r\n\t\t\t\terror.response && error.response.data.message\r\n\t\t\t\t\t? error.response.data.message\r\n\t\t\t\t\t: error.message,\r\n\t\t})\r\n\t}\r\n}\r\n// Actions to get user details\r\nexport const updateUserProfile = (user) => async (dispatch, getState) => {\r\n\ttry {\r\n\t\tdispatch({ type: USER_UPDATE_PROFILE_REQUEST })\r\n\r\n\t\t// Get userInfo from userLogin by destructuring\r\n\t\tconst {\r\n\t\t\tuserLogin: { userInfo },\r\n\t\t} = getState()\r\n\r\n\t\tconst config = {\r\n\t\t\theaders: {\r\n\t\t\t\t'Content-Type': 'application/json',\r\n\t\t\t\tAuthorization: `Bearer ${userInfo.token}`,\r\n\t\t\t},\r\n\t\t}\r\n\r\n\t\t// Make put request to update user profile\r\n\t\tconst { data } = await axios.put('/api/users/profile', user, config)\r\n\t\t// Dispatch update profile\r\n\t\tdispatch({\r\n\t\t\ttype: USER_UPDATE_PROFILE_SUCCESS,\r\n\t\t\tpayload: data,\r\n\t\t})\r\n\t\t// Dispatch user login success\r\n\t\tdispatch({\r\n\t\t\ttype: USER_LOGIN_SUCCESS,\r\n\t\t\tpayload: data,\r\n\t\t})\r\n\t\t// Set user to local storage\r\n\t\tlocalStorage.setItem('userInfo', JSON.stringify(data))\r\n\t} catch (error) {\r\n\t\tdispatch({\r\n\t\t\ttype: USER_UPDATE_PROFILE_FAIL,\r\n\t\t\tpayload:\r\n\t\t\t\t// Send a custom error message\r\n\t\t\t\t// Else send a generic error message\r\n\t\t\t\terror.response && error.response.data.message\r\n\t\t\t\t\t? error.response.data.message\r\n\t\t\t\t\t: error.message,\r\n\t\t})\r\n\t}\r\n}\r\n// Actions to get user details\r\nexport const listUsers = () => async (dispatch, getState) => {\r\n\ttry {\r\n\t\tdispatch({ type: USER_LIST_REQUEST })\r\n\r\n\t\t// Get userInfo from userLogin by destructuring\r\n\t\tconst {\r\n\t\t\tuserLogin: { userInfo },\r\n\t\t} = getState()\r\n\r\n\t\tconst config = {\r\n\t\t\theaders: {\r\n\t\t\t\tAuthorization: `Bearer ${userInfo.token}`,\r\n\t\t\t},\r\n\t\t}\r\n\r\n\t\t// Make get request to get list of users\r\n\t\tconst { data } = await axios.get('/api/users', config)\r\n\r\n\t\tdispatch({\r\n\t\t\ttype: USER_LIST_SUCCESS,\r\n\t\t\tpayload: data,\r\n\t\t})\r\n\t} catch (error) {\r\n\t\tdispatch({\r\n\t\t\ttype: USER_LIST_FAIL,\r\n\t\t\tpayload:\r\n\t\t\t\t// Send a custom error message\r\n\t\t\t\t// Else send a generic error message\r\n\t\t\t\terror.response && error.response.data.message\r\n\t\t\t\t\t? error.response.data.message\r\n\t\t\t\t\t: error.message,\r\n\t\t})\r\n\t}\r\n}\r\n// Actions to delete user\r\nexport const deleteUser = (id) => async (dispatch, getState) => {\r\n\ttry {\r\n\t\tdispatch({ type: USER_DELETE_REQUEST })\r\n\r\n\t\t// Get userInfo from userLogin by destructuring\r\n\t\tconst {\r\n\t\t\tuserLogin: { userInfo },\r\n\t\t} = getState()\r\n\r\n\t\tconst config = {\r\n\t\t\theaders: {\r\n\t\t\t\tAuthorization: `Bearer ${userInfo.token}`,\r\n\t\t\t},\r\n\t\t}\r\n\r\n\t\t// Make delete request to delete a user\r\n\t\tawait axios.delete(`/api/users/${id}`, config)\r\n\r\n\t\tdispatch({ type: USER_DELETE_SUCCESS })\r\n\t} catch (error) {\r\n\t\tdispatch({\r\n\t\t\ttype: USER_DELETE_FAIL,\r\n\t\t\tpayload:\r\n\t\t\t\t// Send a custom error message\r\n\t\t\t\t// Else send a generic error message\r\n\t\t\t\terror.response && error.response.data.message\r\n\t\t\t\t\t? error.response.data.message\r\n\t\t\t\t\t: error.message,\r\n\t\t})\r\n\t}\r\n}\r\n// Actions to update user\r\nexport const updateUser = (user) => async (dispatch, getState) => {\r\n\ttry {\r\n\t\tdispatch({ type: USER_UPDATE_REQUEST })\r\n\r\n\t\t// Get userInfo from userLogin by destructuring\r\n\t\tconst {\r\n\t\t\tuserLogin: { userInfo },\r\n\t\t} = getState()\r\n\r\n\t\tconst config = {\r\n\t\t\theaders: {\r\n\t\t\t\t'Content-Type': 'application/json',\r\n\t\t\t\tAuthorization: `Bearer ${userInfo.token}`,\r\n\t\t\t},\r\n\t\t}\r\n\r\n\t\t// Make put request to update a user\r\n\t\tconst { data } = await axios.put(`/api/users/${user._id}`, user, config)\r\n\r\n\t\tdispatch({ type: USER_UPDATE_SUCCESS })\r\n\t\tdispatch({ type: USER_DETAILS_SUCCESS, payload: data })\r\n\t\tdispatch({ type: USER_DETAILS_RESET })\r\n\t} catch (error) {\r\n\t\tconst message = // Send a custom error message\r\n\t\t\t// Else send a generic error message\r\n\t\t\terror.response && error.response.data.message\r\n\t\t\t\t? error.response.data.message\r\n\t\t\t\t: error.message\r\n\t\tif (message === 'Not authorized, token failed') {\r\n\t\t\tdispatch(logout())\r\n\t\t}\r\n\t\tdispatch({\r\n\t\t\ttype: USER_UPDATE_FAIL,\r\n\t\t\tpayload: message,\r\n\t\t})\r\n\t}\r\n}\r\n","import React from 'react'\r\nimport { Route } from 'react-router-dom'\r\nimport { useDispatch, useSelector } from 'react-redux'\r\nimport { LinkContainer } from 'react-router-bootstrap'\r\nimport { Navbar, Nav, Container, NavDropdown } from 'react-bootstrap'\r\nimport SearchBox from './SearchBox'\r\nimport { logout } from '../actions/userActions'\r\n\r\nconst Header = () => {\r\n\tconst dispatch = useDispatch()\r\n\r\n\t// useSelector is to grab what we want from the state\r\n\tconst userLogin = useSelector((state) => state.userLogin)\r\n\tconst { userInfo } = userLogin\r\n\r\n\tconst logoutHandler = () => {\r\n\t\tdispatch(logout())\r\n\t}\r\n\r\n\treturn (\r\n\t\t<header>\r\n\t\t\t<Navbar\r\n\t\t\t\tclassName='text-uppercase'\r\n\t\t\t\tbg='dark'\r\n\t\t\t\tvariant='dark'\r\n\t\t\t\texpand='lg'\r\n\t\t\t\tcollapseOnSelect\r\n\t\t\t>\r\n\t\t\t\t<Container>\r\n\t\t\t\t\t{/* Rajitha Peiris */}\r\n\r\n\t\t\t\t\t{/* Home */}\r\n\t\t\t\t\t<LinkContainer to='/'>\r\n\t\t\t\t\t\t<Navbar.Brand>The Wooden Gift Collection Online Store</Navbar.Brand>\r\n\t\t\t\t\t</LinkContainer>\r\n\t\t\t\t\t<Navbar.Toggle aria-controls='basic-navbar-nav' />\r\n\t\t\t\t\t<Navbar.Collapse id='basic-navbar-nav'>\r\n\t\t\t\t\t\t<Route render={({ history }) => <SearchBox history={history} />} />\r\n\t\t\t\t\t\t<Nav className='ml-auto'>\r\n\t\t\t\t\t\t\t{/* Cart */}\r\n\t\t\t\t\t\t\t<LinkContainer to='/cart'>\r\n\t\t\t\t\t\t\t\t<Nav.Link>\r\n\t\t\t\t\t\t\t\t\t<i className='fas fa-shopping-cart'></i> Cart\r\n\t\t\t\t\t\t\t\t</Nav.Link>\r\n\t\t\t\t\t\t\t</LinkContainer>\r\n\t\t\t\t\t\t\t{userInfo ? (\r\n\t\t\t\t\t\t\t\t<NavDropdown title={userInfo.name} id='username'>\r\n\t\t\t\t\t\t\t\t\t<LinkContainer to='/profile'>\r\n\t\t\t\t\t\t\t\t\t\t<NavDropdown.Item>Profile</NavDropdown.Item>\r\n\t\t\t\t\t\t\t\t\t</LinkContainer>\r\n\t\t\t\t\t\t\t\t\t{/* Logout */}\r\n\t\t\t\t\t\t\t\t\t<NavDropdown.Item onClick={logoutHandler}>\r\n\t\t\t\t\t\t\t\t\t\tLogout\r\n\t\t\t\t\t\t\t\t\t</NavDropdown.Item>\r\n\t\t\t\t\t\t\t\t</NavDropdown>\r\n\t\t\t\t\t\t\t) : (\r\n\t\t\t\t\t\t\t\t// Login\r\n\t\t\t\t\t\t\t\t<LinkContainer to='/login'>\r\n\t\t\t\t\t\t\t\t\t<Nav.Link>\r\n\t\t\t\t\t\t\t\t\t\t<i className='fas fa-user'></i> Sign In\r\n\t\t\t\t\t\t\t\t\t</Nav.Link>\r\n\t\t\t\t\t\t\t\t</LinkContainer>\r\n\t\t\t\t\t\t\t)}\r\n\t\t\t\t\t\t\t{userInfo && userInfo.isAdmin && (\r\n\t\t\t\t\t\t\t\t<NavDropdown title='Admin' id='adminmenu'>\r\n\t\t\t\t\t\t\t\t\t<LinkContainer to='/admin/userlist'>\r\n\t\t\t\t\t\t\t\t\t\t<NavDropdown.Item>Users</NavDropdown.Item>\r\n\t\t\t\t\t\t\t\t\t</LinkContainer>\r\n\t\t\t\t\t\t\t\t\t<LinkContainer to='/admin/productlist'>\r\n\t\t\t\t\t\t\t\t\t\t<NavDropdown.Item>Products</NavDropdown.Item>\r\n\t\t\t\t\t\t\t\t\t</LinkContainer>\r\n\t\t\t\t\t\t\t\t\t<LinkContainer to='/admin/orderlist'>\r\n\t\t\t\t\t\t\t\t\t\t<NavDropdown.Item>Orders</NavDropdown.Item>\r\n\t\t\t\t\t\t\t\t\t</LinkContainer>\r\n\t\t\t\t\t\t\t\t</NavDropdown>\r\n\t\t\t\t\t\t\t)}\r\n\t\t\t\t\t\t</Nav>\r\n\t\t\t\t\t</Navbar.Collapse>\r\n\t\t\t\t</Container>\r\n\t\t\t</Navbar>\r\n\t\t</header>\r\n\t)\r\n}\r\n\r\nexport default Header\r\n","import React from 'react'\r\nimport { Container, Row, Col } from 'react-bootstrap'\r\n\r\nconst Footer = () => {\r\n\treturn (\r\n\t\t<footer>\r\n\t\t\t<Container>\r\n\t\t\t\t<Row>\r\n\t\t\t\t\t<Col className='text-center py-3'>\r\n\t\t\t\t\t\t{/* Rajitha Peiris */}\r\n\r\n\t\t\t\t\t\tCopyright &copy; The Wooden Gift Collection Online Store\r\n\t\t\t\t\t</Col>\r\n\t\t\t\t</Row>\r\n\t\t\t</Container>\r\n\t\t</footer>\r\n\t)\r\n}\r\n\r\nexport default Footer\r\n","import React from 'react'\r\n\r\nconst Rating = ({ value, text, color }) => {\r\n\treturn (\r\n\t\t<div className='rating'>\r\n\t\t\t<span>\r\n\t\t\t\t<i\r\n\t\t\t\t\tstyle={{ color }}\r\n\t\t\t\t\tclassName={\r\n\t\t\t\t\t\tvalue >= 1\r\n\t\t\t\t\t\t\t? 'fas fa-star'\r\n\t\t\t\t\t\t\t: value >= 0.5\r\n\t\t\t\t\t\t\t? 'fas fa-star-half-alt'\r\n\t\t\t\t\t\t\t: 'far fa-star'\r\n\t\t\t\t\t}\r\n\t\t\t\t></i>\r\n\t\t\t</span>\r\n\r\n\t\t\t<span>\r\n\t\t\t\t<i\r\n\t\t\t\t\tstyle={{ color }}\r\n\t\t\t\t\tclassName={\r\n\t\t\t\t\t\tvalue >= 2\r\n\t\t\t\t\t\t\t? 'fas fa-star'\r\n\t\t\t\t\t\t\t: value >= 1.5\r\n\t\t\t\t\t\t\t? 'fas fa-star-half-alt'\r\n\t\t\t\t\t\t\t: 'far fa-star'\r\n\t\t\t\t\t}\r\n\t\t\t\t></i>\r\n\t\t\t</span>\r\n\r\n\t\t\t<span>\r\n\t\t\t\t<i\r\n\t\t\t\t\tstyle={{ color }}\r\n\t\t\t\t\tclassName={\r\n\t\t\t\t\t\tvalue >= 3\r\n\t\t\t\t\t\t\t? 'fas fa-star'\r\n\t\t\t\t\t\t\t: value >= 2.5\r\n\t\t\t\t\t\t\t? 'fas fa-star-half-alt'\r\n\t\t\t\t\t\t\t: 'far fa-star'\r\n\t\t\t\t\t}\r\n\t\t\t\t></i>\r\n\t\t\t</span>\r\n\r\n\t\t\t<span>\r\n\t\t\t\t<i\r\n\t\t\t\t\tstyle={{ color }}\r\n\t\t\t\t\tclassName={\r\n\t\t\t\t\t\tvalue >= 4\r\n\t\t\t\t\t\t\t? 'fas fa-star'\r\n\t\t\t\t\t\t\t: value >= 3.5\r\n\t\t\t\t\t\t\t? 'fas fa-star-half-alt'\r\n\t\t\t\t\t\t\t: 'far fa-star'\r\n\t\t\t\t\t}\r\n\t\t\t\t></i>\r\n\t\t\t</span>\r\n\r\n\t\t\t<span>\r\n\t\t\t\t<i\r\n\t\t\t\t\tstyle={{ color }}\r\n\t\t\t\t\tclassName={\r\n\t\t\t\t\t\tvalue >= 5\r\n\t\t\t\t\t\t\t? 'fas fa-star'\r\n\t\t\t\t\t\t\t: value >= 4.5\r\n\t\t\t\t\t\t\t? 'fas fa-star-half-alt'\r\n\t\t\t\t\t\t\t: 'far fa-star'\r\n\t\t\t\t\t}\r\n\t\t\t\t></i>\r\n\t\t\t</span>\r\n\t\t\t{/* if text show text*/}\r\n\t\t\t<span>{text && text}</span>\r\n\t\t</div>\r\n\t)\r\n}\r\n\r\nRating.defaultProps = {\r\n\tcolor: '#f8e825',\r\n}\r\n\r\nexport default Rating\r\n","import React from 'react'\r\nimport { Link } from 'react-router-dom'\r\nimport { Card } from 'react-bootstrap'\r\nimport Rating from './Rating'\r\n\r\nconst Product = ({ product }) => {\r\n\treturn (\r\n\t\t<Card className='my-3 p-3 rounded'>\r\n\t\t\t<Link to={`/product/${product._id}`}>\r\n\t\t\t\t{/* Product image */}\r\n\t\t\t\t<Card.Img src={product.image} variant='top' />\r\n\t\t\t</Link>\r\n\t\t\t<Card.Body>\r\n\t\t\t\t<Link to={`/product/${product._id}`}>\r\n\t\t\t\t\t{/* Product name */}\r\n\t\t\t\t\t<Card.Title as='div'>\r\n\t\t\t\t\t\t<strong>{product.name}</strong>\r\n\t\t\t\t\t</Card.Title>\r\n\t\t\t\t</Link>\r\n\t\t\t\t<Card.Text as='div'>\r\n\t\t\t\t\t{/* Product rating */}\r\n\t\t\t\t\t<Rating\r\n\t\t\t\t\t\tvalue={product.rating}\r\n\t\t\t\t\t\ttext={`${product.numReviews} reviews`}\r\n\t\t\t\t\t/>\r\n\t\t\t\t</Card.Text>\r\n\t\t\t\t{/* Product price */}\r\n\t\t\t\t<Card.Text as='h3'>USD{product.price}</Card.Text>\r\n\t\t\t</Card.Body>\r\n\t\t</Card>\r\n\t)\r\n}\r\n\r\nexport default Product\r\n","import React from 'react'\r\nimport { Alert } from 'react-bootstrap'\r\n\r\nconst Message = ({ variant, children }) => {\r\n\treturn <Alert variant={variant}>{children}</Alert>\r\n}\r\n\r\nMessage.defaultProps = {\r\n\tvariant: 'info',\r\n}\r\n\r\nexport default Message\r\n","import React from 'react'\r\nimport { Spinner } from 'react-bootstrap'\r\n\r\nconst Loader = () => {\r\n\treturn (\r\n\t\t<Spinner\r\n\t\t\tanimation='border'\r\n\t\t\trole='status'\r\n\t\t\tstyle={{\r\n\t\t\t\twidth: '100px',\r\n\t\t\t\theight: '100px',\r\n\t\t\t\tmargin: 'auto',\r\n\t\t\t\tdisplay: 'block',\r\n\t\t\t}}\r\n\t\t>\r\n\t\t\t<span className='sr-only'>Loading...</span>\r\n\t\t</Spinner>\r\n\t)\r\n}\r\n\r\nexport default Loader\r\n","import React from 'react'\r\nimport { Pagination } from 'react-bootstrap'\r\nimport { LinkContainer } from 'react-router-bootstrap'\r\n\r\nconst Paginate = ({ pages, page, isAdmin = false, keyword = '' }) => {\r\n\treturn (\r\n\t\tpages > 1 && (\r\n\t\t\t<Pagination>\r\n\t\t\t\t{[...Array(pages).keys()].map((x) => (\r\n\t\t\t\t\t<LinkContainer\r\n\t\t\t\t\t\tkey={x + 1}\r\n\t\t\t\t\t\tto={\r\n\t\t\t\t\t\t\t!isAdmin\r\n\t\t\t\t\t\t\t\t? keyword\r\n\t\t\t\t\t\t\t\t\t? `/search/${keyword}/page/${x + 1}`\r\n\t\t\t\t\t\t\t\t\t: `/page/${x + 1}`\r\n\t\t\t\t\t\t\t\t: `/admin/productlist/${x + 1}`\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t>\r\n\t\t\t\t\t\t<Pagination.Item active={x + 1 === page}>{x + 1}</Pagination.Item>\r\n\t\t\t\t\t</LinkContainer>\r\n\t\t\t\t))}\r\n\t\t\t</Pagination>\r\n\t\t)\r\n\t)\r\n}\r\n\r\nexport default Paginate\r\n","import axios from 'axios'\r\nimport {\r\n\tPRODUCT_LIST_REQUEST,\r\n\tPRODUCT_LIST_SUCCESS,\r\n\tPRODUCT_LIST_FAIL,\r\n\tPRODUCT_DETAILS_REQUEST,\r\n\tPRODUCT_DETAILS_SUCCESS,\r\n\tPRODUCT_DETAILS_FAIL,\r\n\tPRODUCT_DELETE_REQUEST,\r\n\tPRODUCT_DELETE_SUCCESS,\r\n\tPRODUCT_DELETE_FAIL,\r\n\tPRODUCT_CREATE_REQUEST,\r\n\tPRODUCT_CREATE_SUCCESS,\r\n\tPRODUCT_CREATE_FAIL,\r\n\tPRODUCT_UPDATE_REQUEST,\r\n\tPRODUCT_UPDATE_SUCCESS,\r\n\tPRODUCT_UPDATE_FAIL,\r\n\tPRODUCT_CREATE_REVIEW_REQUEST,\r\n\tPRODUCT_CREATE_REVIEW_SUCCESS,\r\n\tPRODUCT_CREATE_REVIEW_FAIL,\r\n\tPRODUCT_TOP_REQUEST,\r\n\tPRODUCT_TOP_SUCCESS,\r\n\tPRODUCT_TOP_FAIL,\r\n} from '../constants/productConstants'\r\n\r\n// Actions to get all products\r\nexport const listProducts = (keyword = '', pageNumber = '') => async (\r\n\tdispatch\r\n) => {\r\n\ttry {\r\n\t\tdispatch({ type: PRODUCT_LIST_REQUEST })\r\n\t\t// Make request to get all products\r\n\t\tconst { data } = await axios.get(\r\n\t\t\t`/api/products?keyword=${keyword}&pageNumber=${pageNumber}`\r\n\t\t)\r\n\r\n\t\tdispatch({\r\n\t\t\ttype: PRODUCT_LIST_SUCCESS,\r\n\t\t\tpayload: data,\r\n\t\t})\r\n\t} catch (error) {\r\n\t\tdispatch({\r\n\t\t\ttype: PRODUCT_LIST_FAIL,\r\n\t\t\tpayload:\r\n\t\t\t\t// Send a custom error message\r\n\t\t\t\t// Else send a generic error message\r\n\t\t\t\terror.response && error.response.data.message\r\n\t\t\t\t\t? error.response.data.message\r\n\t\t\t\t\t: error.message,\r\n\t\t})\r\n\t}\r\n}\r\n\r\n// Actions to get a single product\r\nexport const listProductDetails = (id) => async (dispatch) => {\r\n\ttry {\r\n\t\tdispatch({ type: PRODUCT_DETAILS_REQUEST })\r\n\t\t// Make request to get a single product\r\n\t\tconst { data } = await axios.get(`/api/products/${id}`)\r\n\r\n\t\tdispatch({\r\n\t\t\ttype: PRODUCT_DETAILS_SUCCESS,\r\n\t\t\tpayload: data,\r\n\t\t})\r\n\t} catch (error) {\r\n\t\tdispatch({\r\n\t\t\ttype: PRODUCT_DETAILS_FAIL,\r\n\t\t\tpayload:\r\n\t\t\t\t// Send a custom error message\r\n\t\t\t\t// Else send a generic error message\r\n\t\t\t\terror.response && error.response.data.message\r\n\t\t\t\t\t? error.response.data.message\r\n\t\t\t\t\t: error.message,\r\n\t\t})\r\n\t}\r\n}\r\n// Actions to delete a single product\r\nexport const deleteProduct = (id) => async (dispatch, getState) => {\r\n\ttry {\r\n\t\tdispatch({ type: PRODUCT_DELETE_REQUEST })\r\n\r\n\t\t// Get userInfo from userLogin by destructuring\r\n\t\tconst {\r\n\t\t\tuserLogin: { userInfo },\r\n\t\t} = getState()\r\n\r\n\t\tconst config = {\r\n\t\t\theaders: {\r\n\t\t\t\tAuthorization: `Bearer ${userInfo.token}`,\r\n\t\t\t},\r\n\t\t}\r\n\r\n\t\t// Make delete request to delete a product\r\n\t\tawait axios.delete(`/api/products/${id}`, config)\r\n\r\n\t\tdispatch({ type: PRODUCT_DELETE_SUCCESS })\r\n\t} catch (error) {\r\n\t\tdispatch({\r\n\t\t\ttype: PRODUCT_DELETE_FAIL,\r\n\t\t\tpayload:\r\n\t\t\t\t// Send a custom error message\r\n\t\t\t\t// Else send a generic error message\r\n\t\t\t\terror.response && error.response.data.message\r\n\t\t\t\t\t? error.response.data.message\r\n\t\t\t\t\t: error.message,\r\n\t\t})\r\n\t}\r\n}\r\n// Actions to create a single product\r\nexport const createProduct = () => async (dispatch, getState) => {\r\n\ttry {\r\n\t\tdispatch({ type: PRODUCT_CREATE_REQUEST })\r\n\r\n\t\t// Get userInfo from userLogin by destructuring\r\n\t\tconst {\r\n\t\t\tuserLogin: { userInfo },\r\n\t\t} = getState()\r\n\r\n\t\tconst config = {\r\n\t\t\theaders: {\r\n\t\t\t\tAuthorization: `Bearer ${userInfo.token}`,\r\n\t\t\t},\r\n\t\t}\r\n\r\n\t\t// Make post request to create a product\r\n\t\tconst { data } = await axios.post('/api/products', {}, config)\r\n\r\n\t\tdispatch({ type: PRODUCT_CREATE_SUCCESS, payload: data })\r\n\t} catch (error) {\r\n\t\tdispatch({\r\n\t\t\ttype: PRODUCT_CREATE_FAIL,\r\n\t\t\tpayload:\r\n\t\t\t\t// Send a custom error message\r\n\t\t\t\t// Else send a generic error message\r\n\t\t\t\terror.response && error.response.data.message\r\n\t\t\t\t\t? error.response.data.message\r\n\t\t\t\t\t: error.message,\r\n\t\t})\r\n\t}\r\n}\r\n// Actions to update a single product\r\nexport const updateProduct = (product) => async (dispatch, getState) => {\r\n\ttry {\r\n\t\tdispatch({ type: PRODUCT_UPDATE_REQUEST })\r\n\r\n\t\t// Get userInfo from userLogin by destructuring\r\n\t\tconst {\r\n\t\t\tuserLogin: { userInfo },\r\n\t\t} = getState()\r\n\r\n\t\tconst config = {\r\n\t\t\theaders: {\r\n\t\t\t\t'Content-Type': 'application/json',\r\n\t\t\t\tAuthorization: `Bearer ${userInfo.token}`,\r\n\t\t\t},\r\n\t\t}\r\n\r\n\t\t// Make put request to update a product\r\n\t\tconst { data } = await axios.put(\r\n\t\t\t`/api/products/${product._id}`,\r\n\t\t\tproduct,\r\n\t\t\tconfig\r\n\t\t)\r\n\r\n\t\tdispatch({ type: PRODUCT_UPDATE_SUCCESS, payload: data })\r\n\t} catch (error) {\r\n\t\tdispatch({\r\n\t\t\ttype: PRODUCT_UPDATE_FAIL,\r\n\t\t\tpayload:\r\n\t\t\t\t// Send a custom error message\r\n\t\t\t\t// Else send a generic error message\r\n\t\t\t\terror.response && error.response.data.message\r\n\t\t\t\t\t? error.response.data.message\r\n\t\t\t\t\t: error.message,\r\n\t\t})\r\n\t}\r\n}\r\n// Actions to create a review on a single product\r\nexport const createProductReview = (productId, review) => async (\r\n\tdispatch,\r\n\tgetState\r\n) => {\r\n\ttry {\r\n\t\tdispatch({ type: PRODUCT_CREATE_REVIEW_REQUEST })\r\n\r\n\t\t// Get userInfo from userLogin by destructuring\r\n\t\tconst {\r\n\t\t\tuserLogin: { userInfo },\r\n\t\t} = getState()\r\n\r\n\t\tconst config = {\r\n\t\t\theaders: {\r\n\t\t\t\t'Content-Type': 'application/json',\r\n\t\t\t\tAuthorization: `Bearer ${userInfo.token}`,\r\n\t\t\t},\r\n\t\t}\r\n\r\n\t\t// Make post request to create a review on a product\r\n\t\tawait axios.post(`/api/products/${productId}/reviews`, review, config)\r\n\r\n\t\tdispatch({ type: PRODUCT_CREATE_REVIEW_SUCCESS })\r\n\t} catch (error) {\r\n\t\tdispatch({\r\n\t\t\ttype: PRODUCT_CREATE_REVIEW_FAIL,\r\n\t\t\tpayload:\r\n\t\t\t\t// Send a custom error message\r\n\t\t\t\t// Else send a generic error message\r\n\t\t\t\terror.response && error.response.data.message\r\n\t\t\t\t\t? error.response.data.message\r\n\t\t\t\t\t: error.message,\r\n\t\t})\r\n\t}\r\n}\r\n// Actions to get 3 top rated products\r\nexport const listTopProducts = () => async (dispatch) => {\r\n\ttry {\r\n\t\tdispatch({ type: PRODUCT_TOP_REQUEST })\r\n\t\t// Make request to get 3 top rated products\r\n\t\tconst { data } = await axios.get('/api/products/top')\r\n\r\n\t\tdispatch({\r\n\t\t\ttype: PRODUCT_TOP_SUCCESS,\r\n\t\t\tpayload: data,\r\n\t\t})\r\n\t} catch (error) {\r\n\t\tdispatch({\r\n\t\t\ttype: PRODUCT_TOP_FAIL,\r\n\t\t\tpayload:\r\n\t\t\t\t// Send a custom error message\r\n\t\t\t\t// Else send a generic error message\r\n\t\t\t\terror.response && error.response.data.message\r\n\t\t\t\t\t? error.response.data.message\r\n\t\t\t\t\t: error.message,\r\n\t\t})\r\n\t}\r\n}\r\n","import React, { useEffect } from 'react'\r\nimport { Link } from 'react-router-dom'\r\nimport { useDispatch, useSelector } from 'react-redux'\r\nimport { Carousel, Image } from 'react-bootstrap'\r\nimport Loader from './Loader'\r\nimport Message from './Message'\r\nimport { listTopProducts } from '../actions/productActions'\r\n\r\nconst ProductCarousel = () => {\r\n\tconst dispatch = useDispatch()\r\n\r\n\t// useSelector is to grab what we want from the state\r\n\tconst productTopRated = useSelector((state) => state.productTopRated)\r\n\tconst { loading, error, products } = productTopRated\r\n\r\n\t// make request here upon component load\r\n\tuseEffect(\r\n\t\t() => {\r\n\t\t\tdispatch(listTopProducts())\r\n\t\t},\r\n\t\t[dispatch] // Dependencies, on change they fire off useEffect\r\n\t)\r\n\r\n\treturn loading ? (\r\n\t\t<Loader />\r\n\t) : error ? (\r\n\t\t<Message variant='danger'>{error}</Message>\r\n\t) : (\r\n\t\t<Carousel pause='hover' className='bg-light'>\r\n\t\t\t{products.map((product) => (\r\n\t\t\t\t<Carousel.Item key={product._id} interval={2000}>\r\n\t\t\t\t\t<Link to={`/product/${product._id}`}>\r\n\t\t\t\t\t\t<Image src={product.image} alt={product.name} fluid />\r\n\t\t\t\t\t\t<Carousel.Caption className='carousel-caption'>\r\n\t\t\t\t\t\t\t<h2>\r\n\t\t\t\t\t\t\t\t{product.name} (USD{product.price})\r\n\t\t\t\t\t\t\t</h2>\r\n\t\t\t\t\t\t</Carousel.Caption>\r\n\t\t\t\t\t</Link>\r\n\t\t\t\t</Carousel.Item>\r\n\t\t\t))}\r\n\t\t</Carousel>\r\n\t)\r\n}\r\n\r\nexport default ProductCarousel\r\n","import React from 'react'\r\nimport { Helmet } from 'react-helmet'\r\n\r\nconst Meta = ({ title, description, keywords, author }) => {\r\n\treturn (\r\n\t\t<>\r\n\t\t\t<Helmet>\r\n\t\t\t\t<title>{title}</title>\r\n\t\t\t\t<meta name='description' content={description} />\r\n\t\t\t\t<meta name='keywords' content={keywords} />\r\n\t\t\t\t<meta name='author' content={author} />\r\n\t\t\t</Helmet>\r\n\t\t</>\r\n\t)\r\n}\r\n\r\nMeta.defaultProps = {\r\n\ttitle: 'Wooden Gift Collection E-Commerce Store | Home',\r\n\tdescription: 'Unique products at an affordable price',\r\n\tkeywords: 'buy, wooden, glass, Sri, Lanka',\r\n\tauthor: 'Rajitha Peiris',\r\n}\r\n\r\nexport default Meta\r\n","import React, { useEffect } from 'react'\r\nimport { Link } from 'react-router-dom'\r\nimport { useDispatch, useSelector } from 'react-redux'\r\nimport { Row, Col } from 'react-bootstrap'\r\nimport Product from '../components/Product'\r\nimport Message from '../components/Message'\r\nimport Loader from '../components/Loader'\r\nimport Paginate from '../components/Paginate'\r\nimport ProductCarousel from '../components/ProductCarousel'\r\nimport Meta from '../components/Meta'\r\nimport { listProducts } from '../actions/productActions'\r\n\r\nconst HomeScreen = ({ match }) => {\r\n\tconst keyword = match.params.keyword\r\n\r\n\tconst pageNumber = match.params.pageNumber || 1\r\n\r\n\tconst dispatch = useDispatch()\r\n\r\n\t// useSelector is to grab what we want from the state\r\n\tconst productList = useSelector((state) => state.productList)\r\n\tconst { loading, error, products, page, pages } = productList\r\n\r\n\t// make request here upon component load\r\n\tuseEffect(\r\n\t\t() => {\r\n\t\t\t// Fire off action to get the products\r\n\t\t\tdispatch(listProducts(keyword, pageNumber))\r\n\t\t},\r\n\t\t[dispatch, keyword, pageNumber] // Dependencies, on change they fire off useEffect\r\n\t)\r\n\treturn (\r\n\t\t<>\r\n\t\t\t<Meta />\r\n\t\t\t{!keyword ? (\r\n\t\t\t\t<ProductCarousel />\r\n\t\t\t) : (\r\n\t\t\t\t<Link className='btn btn-light' to='/'>\r\n\t\t\t\t\tGo Back\r\n\t\t\t\t</Link>\r\n\t\t\t)}\r\n\t\t\t<h1>Latest Products</h1>\r\n\t\t\t{/* When loading, display Loading...\r\n            On error, display error\r\n            Else display the products */}\r\n\t\t\t{loading ? (\r\n\t\t\t\t<Loader />\r\n\t\t\t) : error ? (\r\n\t\t\t\t<Message variant='danger'>{error}</Message>\r\n\t\t\t) : (\r\n\t\t\t\t<>\r\n\t\t\t\t\t<Row>\r\n\t\t\t\t\t\t{products.map((product) => (\r\n\t\t\t\t\t\t\t<Col key={product._id} sm={12} md='6' lg={4} xl={3}>\r\n\t\t\t\t\t\t\t\t<Product product={product} />\r\n\t\t\t\t\t\t\t</Col>\r\n\t\t\t\t\t\t))}\r\n\t\t\t\t\t</Row>\r\n\t\t\t\t\t<Paginate\r\n\t\t\t\t\t\tpages={pages}\r\n\t\t\t\t\t\tpage={page}\r\n\t\t\t\t\t\tkeyword={keyword ? keyword : ''}\r\n\t\t\t\t\t/>\r\n\t\t\t\t</>\r\n\t\t\t)}\r\n\t\t</>\r\n\t)\r\n}\r\n\r\nexport default HomeScreen\r\n","import React, { useState, useEffect } from 'react'\r\nimport { Link } from 'react-router-dom'\r\nimport { useDispatch, useSelector } from 'react-redux'\r\nimport { Row, Col, Image, ListGroup, Card, Button, Form } from 'react-bootstrap'\r\nimport Rating from '../components/Rating'\r\nimport Message from '../components/Message'\r\nimport Loader from '../components/Loader'\r\nimport Meta from '../components/Meta'\r\nimport {\r\n\tlistProductDetails,\r\n\tcreateProductReview,\r\n} from '../actions/productActions'\r\nimport { PRODUCT_CREATE_REVIEW_RESET } from '../constants/productConstants'\r\n\r\nconst ProductScreen = ({ history, match }) => {\r\n\tconst [qty, setQty] = useState(1)\r\n\r\n\t// Product review states\r\n\tconst [rating, setRating] = useState(0)\r\n\tconst [comment, setComment] = useState('')\r\n\r\n\tconst dispatch = useDispatch()\r\n\r\n\t// useSelector is to grab what we want from the state\r\n\tconst productDetails = useSelector((state) => state.productDetails)\r\n\tconst { loading, error, product } = productDetails\r\n\r\n\t// Make sure user is logged in\r\n\tconst userLogin = useSelector((state) => state.userLogin)\r\n\tconst { userInfo } = userLogin\r\n\r\n\t// For product review\r\n\tconst productReviewCreate = useSelector((state) => state.productReviewCreate)\r\n\tconst {\r\n\t\tsuccess: successProductReview,\r\n\t\tloading: loadingProductReview,\r\n\t\terror: errorProductReview,\r\n\t} = productReviewCreate\r\n\r\n\t// make request here upon component load\r\n\tuseEffect(\r\n\t\t() => {\r\n\t\t\tif (successProductReview) {\r\n\t\t\t\tsetRating(0)\r\n\t\t\t\tsetComment('')\r\n\t\t\t\tdispatch(listProductDetails(match.params.id))\r\n\t\t\t\tdispatch({ type: PRODUCT_CREATE_REVIEW_RESET })\r\n\t\t\t}\r\n\t\t\t// Fire off action to get a single product\r\n\t\t\tif (!product._id || product._id !== match.params.id) {\r\n\t\t\t\tdispatch(listProductDetails(match.params.id))\r\n\t\t\t\tdispatch({ type: PRODUCT_CREATE_REVIEW_RESET })\r\n\t\t\t}\r\n\t\t},\r\n\t\t[dispatch, match, successProductReview, product._id] // Dependencies, on change they fire off useEffect\r\n\t)\r\n\r\n\t// Add to cart handler\r\n\tconst addToCartHandler = () => {\r\n\t\t// Redirect to cart and include quantity/qty\r\n\t\thistory.push(`/cart/${match.params.id}?qty=${qty}`)\r\n\t}\r\n\r\n\tconst submitHandler = (e) => {\r\n\t\te.preventDefault()\r\n\t\tdispatch(\r\n\t\t\tcreateProductReview(match.params.id, {\r\n\t\t\t\trating,\r\n\t\t\t\tcomment,\r\n\t\t\t})\r\n\t\t)\r\n\t}\r\n\r\n\treturn (\r\n\t\t<>\r\n\t\t\t{/* Back button */}\r\n\t\t\t<Link className='btn btn-light my-3' to='/'>\r\n\t\t\t\tGo Back\r\n\t\t\t</Link>\r\n\t\t\t{/* When loading, display Loading...\r\n            On error, display error\r\n            Else display the product details */}\r\n\t\t\t{loading ? (\r\n\t\t\t\t<Loader />\r\n\t\t\t) : error ? (\r\n\t\t\t\t<Message variant='danger'>{error}</Message>\r\n\t\t\t) : (\r\n\t\t\t\t<>\r\n\t\t\t\t\t<Meta title={product.name} />\r\n\t\t\t\t\t<Row>\r\n\t\t\t\t\t\t{/* Product image */}\r\n\t\t\t\t\t\t<Col md='6'>\r\n\t\t\t\t\t\t\t<Image src={product.image} alt={product.name} fluid />\r\n\t\t\t\t\t\t</Col>\r\n\t\t\t\t\t\t<Col md='3'>\r\n\t\t\t\t\t\t\t{/* Product name */}\r\n\t\t\t\t\t\t\t<ListGroup variant='flush'>\r\n\t\t\t\t\t\t\t\t<ListGroup.Item>\r\n\t\t\t\t\t\t\t\t\t<h3>{product.name}</h3>\r\n\t\t\t\t\t\t\t\t</ListGroup.Item>\r\n\t\t\t\t\t\t\t\t{/* Product rating */}\r\n\t\t\t\t\t\t\t\t<ListGroup.Item>\r\n\t\t\t\t\t\t\t\t\t<Rating\r\n\t\t\t\t\t\t\t\t\t\tvalue={product.rating}\r\n\t\t\t\t\t\t\t\t\t\ttext={`${product.numReviews} reviews`}\r\n\t\t\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t\t</ListGroup.Item>\r\n\t\t\t\t\t\t\t\t{/* Product price */}\r\n\t\t\t\t\t\t\t\t<ListGroup.Item>Price: USD{product.price}</ListGroup.Item>\r\n\t\t\t\t\t\t\t\t{/* Product description */}\r\n\t\t\t\t\t\t\t\t<ListGroup.Item>\r\n\t\t\t\t\t\t\t\t\tDescription: {product.description}\r\n\t\t\t\t\t\t\t\t</ListGroup.Item>\r\n\t\t\t\t\t\t\t</ListGroup>\r\n\t\t\t\t\t\t</Col>\r\n\t\t\t\t\t\t{/* Add to cart section */}\r\n\t\t\t\t\t\t<Col md='3'>\r\n\t\t\t\t\t\t\t<Card>\r\n\t\t\t\t\t\t\t\t<ListGroup variant='flush'>\r\n\t\t\t\t\t\t\t\t\t<ListGroup.Item>\r\n\t\t\t\t\t\t\t\t\t\t{/* Product price */}\r\n\t\t\t\t\t\t\t\t\t\t<Row>\r\n\t\t\t\t\t\t\t\t\t\t\t<Col>Price:</Col>\r\n\t\t\t\t\t\t\t\t\t\t\t<Col>\r\n\t\t\t\t\t\t\t\t\t\t\t\t<strong>USD{product.price}</strong>\r\n\t\t\t\t\t\t\t\t\t\t\t</Col>\r\n\t\t\t\t\t\t\t\t\t\t</Row>\r\n\t\t\t\t\t\t\t\t\t</ListGroup.Item>\r\n\t\t\t\t\t\t\t\t\t{/* Product status */}\r\n\t\t\t\t\t\t\t\t\t<ListGroup.Item>\r\n\t\t\t\t\t\t\t\t\t\t<Row>\r\n\t\t\t\t\t\t\t\t\t\t\t<Col>Status:</Col>\r\n\t\t\t\t\t\t\t\t\t\t\t<Col>\r\n\t\t\t\t\t\t\t\t\t\t\t\t{product.countInStock > 0 ? 'In Stock' : 'Out of Stock'}\r\n\t\t\t\t\t\t\t\t\t\t\t</Col>\r\n\t\t\t\t\t\t\t\t\t\t</Row>\r\n\t\t\t\t\t\t\t\t\t</ListGroup.Item>\r\n\r\n\t\t\t\t\t\t\t\t\t{/* Quantity of stock */}\r\n\t\t\t\t\t\t\t\t\t{product.countInStock > 0 && (\r\n\t\t\t\t\t\t\t\t\t\t<ListGroup.Item>\r\n\t\t\t\t\t\t\t\t\t\t\t<Row>\r\n\t\t\t\t\t\t\t\t\t\t\t\t<Col>Qty</Col>\r\n\t\t\t\t\t\t\t\t\t\t\t\t<Col>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t<Form.Control\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tas='select'\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tvalue={qty}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tonChange={(e) => setQty(e.target.value)}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t{/* Getting countInStock keys */}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t{[...Array(product.countInStock).keys()].map(\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t(x) => (\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<option key={x + 1} value={x + 1}>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t{x + 1}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t</option>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t)\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t)}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t</Form.Control>\r\n\t\t\t\t\t\t\t\t\t\t\t\t</Col>\r\n\t\t\t\t\t\t\t\t\t\t\t</Row>\r\n\t\t\t\t\t\t\t\t\t\t</ListGroup.Item>\r\n\t\t\t\t\t\t\t\t\t)}\r\n\r\n\t\t\t\t\t\t\t\t\t<ListGroup.Item>\r\n\t\t\t\t\t\t\t\t\t\t{product.countInStock > 0 ? (\r\n\t\t\t\t\t\t\t\t\t\t\t/* Add to cart button */\r\n\t\t\t\t\t\t\t\t\t\t\t<Button\r\n\t\t\t\t\t\t\t\t\t\t\t\tonClick={addToCartHandler}\r\n\t\t\t\t\t\t\t\t\t\t\t\tclassName='btn-block'\r\n\t\t\t\t\t\t\t\t\t\t\t\ttype='button'\r\n\t\t\t\t\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t\t\t\t\t<i className='fas fa-plus'></i>\r\n\t\t\t\t\t\t\t\t\t\t\t\t<span className='plus-sign-margin'>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t<i className='fas fa-shopping-cart'></i>\r\n\t\t\t\t\t\t\t\t\t\t\t\t</span>\r\n\t\t\t\t\t\t\t\t\t\t\t\tAdd To Cart\r\n\t\t\t\t\t\t\t\t\t\t\t</Button>\r\n\t\t\t\t\t\t\t\t\t\t) : (\r\n\t\t\t\t\t\t\t\t\t\t\t/* Sold Out button */\r\n\t\t\t\t\t\t\t\t\t\t\t<Button\r\n\t\t\t\t\t\t\t\t\t\t\t\tclassName='btn-block'\r\n\t\t\t\t\t\t\t\t\t\t\t\ttype='button'\r\n\t\t\t\t\t\t\t\t\t\t\t\tdisabled={product.countInStock === 0}\r\n\t\t\t\t\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t\t\t\t\tSold Out\r\n\t\t\t\t\t\t\t\t\t\t\t</Button>\r\n\t\t\t\t\t\t\t\t\t\t)}\r\n\t\t\t\t\t\t\t\t\t</ListGroup.Item>\r\n\t\t\t\t\t\t\t\t</ListGroup>\r\n\t\t\t\t\t\t\t</Card>\r\n\t\t\t\t\t\t</Col>\r\n\t\t\t\t\t</Row>\r\n\t\t\t\t\t{/* Reviews */}\r\n\t\t\t\t\t<Row>\r\n\t\t\t\t\t\t<Col md={6}>\r\n\t\t\t\t\t\t\t<h2>Reviews</h2>\r\n\t\t\t\t\t\t\t{product.reviews.length === 0 && <Message>No Reviews</Message>}\r\n\t\t\t\t\t\t\t<ListGroup variant='flush'>\r\n\t\t\t\t\t\t\t\t{product.reviews.map((review) => (\r\n\t\t\t\t\t\t\t\t\t<ListGroup.Item key={review._id}>\r\n\t\t\t\t\t\t\t\t\t\t<strong>{review.name}</strong>\r\n\t\t\t\t\t\t\t\t\t\t<Rating value={review.rating} />\r\n\t\t\t\t\t\t\t\t\t\t<p>{review.createdAt.substring(0, 10)}</p>\r\n\t\t\t\t\t\t\t\t\t\t<p>{review.comment}</p>\r\n\t\t\t\t\t\t\t\t\t</ListGroup.Item>\r\n\t\t\t\t\t\t\t\t))}\r\n\t\t\t\t\t\t\t\t<ListGroup.Item>\r\n\t\t\t\t\t\t\t\t\t<h2>Write a Customer Review</h2>\r\n\t\t\t\t\t\t\t\t\t{successProductReview && (\r\n\t\t\t\t\t\t\t\t\t\t<Message variant='success'>\r\n\t\t\t\t\t\t\t\t\t\t\tReview submitted successfully\r\n\t\t\t\t\t\t\t\t\t\t</Message>\r\n\t\t\t\t\t\t\t\t\t)}\r\n\t\t\t\t\t\t\t\t\t{loadingProductReview && <Loader />}\r\n\t\t\t\t\t\t\t\t\t{errorProductReview && (\r\n\t\t\t\t\t\t\t\t\t\t<Message variant='danger'>{errorProductReview}</Message>\r\n\t\t\t\t\t\t\t\t\t)}\r\n\t\t\t\t\t\t\t\t\t{userInfo ? (\r\n\t\t\t\t\t\t\t\t\t\t<Form className='push-to-right' onSubmit={submitHandler}>\r\n\t\t\t\t\t\t\t\t\t\t\t<Form.Group controlId='rating'>\r\n\t\t\t\t\t\t\t\t\t\t\t\t<Form.Label>Rating</Form.Label>\r\n\t\t\t\t\t\t\t\t\t\t\t\t<Form.Control\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tas='select'\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tvalue={rating}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tonChange={(e) => setRating(e.target.value)}\r\n\t\t\t\t\t\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t{/* Rating */}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t<option value=''>Select...</option>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t<option value='1'>1 - Poor</option>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t<option value='2'>2 - Fair</option>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t<option value='3'>3 - Good</option>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t<option value='4'>4 - Very Good</option>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t<option value='5'>5 - Excellent</option>\r\n\t\t\t\t\t\t\t\t\t\t\t\t</Form.Control>\r\n\t\t\t\t\t\t\t\t\t\t\t</Form.Group>\r\n\t\t\t\t\t\t\t\t\t\t\t<Form.Group controlId='comment'>\r\n\t\t\t\t\t\t\t\t\t\t\t\t<Form.Control\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tas='textarea'\r\n\t\t\t\t\t\t\t\t\t\t\t\t\trequired\r\n\t\t\t\t\t\t\t\t\t\t\t\t\trow='3'\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tonChange={(e) => setComment(e.target.value)}\r\n\t\t\t\t\t\t\t\t\t\t\t\t></Form.Control>\r\n\t\t\t\t\t\t\t\t\t\t\t</Form.Group>\r\n\t\t\t\t\t\t\t\t\t\t\t<Button\r\n\t\t\t\t\t\t\t\t\t\t\t\ttype='submit'\r\n\t\t\t\t\t\t\t\t\t\t\t\tdisabled={loadingProductReview}\r\n\t\t\t\t\t\t\t\t\t\t\t\tvariant='primary'\r\n\t\t\t\t\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t\t\t\t\tSubmit\r\n\t\t\t\t\t\t\t\t\t\t\t</Button>\r\n\t\t\t\t\t\t\t\t\t\t</Form>\r\n\t\t\t\t\t\t\t\t\t) : (\r\n\t\t\t\t\t\t\t\t\t\t<Message>\r\n\t\t\t\t\t\t\t\t\t\t\tPlease <Link to='/login'>sign in</Link> to write a review\r\n\t\t\t\t\t\t\t\t\t\t</Message>\r\n\t\t\t\t\t\t\t\t\t)}\r\n\t\t\t\t\t\t\t\t</ListGroup.Item>\r\n\t\t\t\t\t\t\t</ListGroup>\r\n\t\t\t\t\t\t</Col>\r\n\t\t\t\t\t</Row>\r\n\t\t\t\t</>\r\n\t\t\t)}\r\n\t\t</>\r\n\t)\r\n}\r\n\r\nexport default ProductScreen\r\n","import axios from 'axios'\r\nimport {\r\n\tCART_ADD_ITEM,\r\n\tCART_REMOVE_ITEM,\r\n\tCART_SAVE_SHIPPING_ADDRESS,\r\n\tCART_SAVE_PAYMENT_METHOD,\r\n} from '../constants/cartConstants'\r\n// Actions to add a single product to the cart\r\nexport const addToCart = (id, qty) => async (dispatch, getState) => {\r\n\t// Make request to get a single product\r\n\tconst { data } = await axios.get(`/api/products/${id}`)\r\n\r\n\tdispatch({\r\n\t\ttype: CART_ADD_ITEM,\r\n\t\tpayload: {\r\n\t\t\tproduct: data._id,\r\n\t\t\tname: data.name,\r\n\t\t\timage: data.image,\r\n\t\t\tprice: data.price,\r\n\t\t\tcountInStock: data.countInStock,\r\n\t\t\tqty,\r\n\t\t},\r\n\t})\r\n\t// Set cart items to local storage\r\n\tlocalStorage.setItem('cartItems', JSON.stringify(getState().cart.cartItems))\r\n}\r\n// Actions to remove a single product from the cart\r\nexport const removeFromCart = (id) => async (dispatch, getState) => {\r\n\tdispatch({\r\n\t\ttype: CART_REMOVE_ITEM,\r\n\t\tpayload: id,\r\n\t})\r\n\tlocalStorage.setItem('cartItems', JSON.stringify(getState().cart.cartItems))\r\n}\r\n// Actions to save shipping address\r\nexport const saveShippingAddress = (data) => async (dispatch) => {\r\n\tdispatch({\r\n\t\ttype: CART_SAVE_SHIPPING_ADDRESS,\r\n\t\tpayload: data,\r\n\t})\r\n\tlocalStorage.setItem('shippingAddress', JSON.stringify(data))\r\n}\r\n// Actions to save payment method\r\nexport const savePaymentMethod = (data) => async (dispatch) => {\r\n\tdispatch({\r\n\t\ttype: CART_SAVE_PAYMENT_METHOD,\r\n\t\tpayload: data,\r\n\t})\r\n\tlocalStorage.setItem('paymentMethod', JSON.stringify(data))\r\n}\r\n","import React, { useEffect } from 'react'\r\nimport { Link } from 'react-router-dom'\r\nimport { useDispatch, useSelector } from 'react-redux'\r\nimport { Row, Col, ListGroup, Image, Form, Button, Card } from 'react-bootstrap'\r\nimport Message from '../components/Message'\r\nimport { addToCart, removeFromCart } from '../actions/cartActions'\r\n\r\nconst CartScreen = ({ match, location, history }) => {\r\n\t// Get product id\r\n\tconst productId = match.params.id\r\n\r\n\t// Get the quantity ?qty=x\r\n\tconst qty = location.search ? Number(location.search.split('=')[1]) : 1\r\n\r\n\tconst dispatch = useDispatch()\r\n\r\n\t// useSelector is to grab what we want from the state\r\n\tconst cart = useSelector((state) => state.cart)\r\n\tconst { cartItems } = cart\r\n\r\n\t// Add two decimals to price if needed\r\n\tconst addDecimals = (num) => {\r\n\t\treturn (Math.round(num * 100) / 100).toFixed(2)\r\n\t}\r\n\r\n\t// make request here upon component load\r\n\tuseEffect(() => {\r\n\t\t// Fire off action to add item and quantity to cart\r\n\t\tif (productId) {\r\n\t\t\tdispatch(addToCart(productId, qty))\r\n\t\t}\r\n\t}, [dispatch, productId, qty]) // Dependencies, on change they fire off useEffect\r\n\r\n\tconst removeFromCartHandler = (id) => {\r\n\t\tdispatch(removeFromCart(id))\r\n\t}\r\n\tconst checkoutHandler = () => {\r\n\t\thistory.push('/login?redirect=shipping')\r\n\t}\r\n\treturn (\r\n\t\t<Row>\r\n\t\t\t<Col md={8}>\r\n\t\t\t\t<h1>Shopping Cart</h1>\r\n\t\t\t\t{cartItems.length === 0 ? (\r\n\t\t\t\t\t<Message>\r\n\t\t\t\t\t\tYour cart is empty <Link to='/'>Go Back</Link>\r\n\t\t\t\t\t</Message>\r\n\t\t\t\t) : (\r\n\t\t\t\t\t<ListGroup variant='flush'>\r\n\t\t\t\t\t\t{cartItems.map((item) => (\r\n\t\t\t\t\t\t\t<ListGroup.Item key={item.product}>\r\n\t\t\t\t\t\t\t\t<Row>\r\n\t\t\t\t\t\t\t\t\t<Col md={2}>\r\n\t\t\t\t\t\t\t\t\t\t<Link to={`/product/${item.product}`}>\r\n\t\t\t\t\t\t\t\t\t\t\t<Image src={item.image} alt={item.name} fluid rounded />\r\n\t\t\t\t\t\t\t\t\t\t</Link>\r\n\t\t\t\t\t\t\t\t\t</Col>\r\n\t\t\t\t\t\t\t\t\t<Col md={3}>\r\n\t\t\t\t\t\t\t\t\t\t<Link to={`/product/${item.product}`}>{item.name}</Link>\r\n\t\t\t\t\t\t\t\t\t</Col>\r\n\t\t\t\t\t\t\t\t\t<Col md={2}>USD{item.price}</Col>\r\n\t\t\t\t\t\t\t\t\t<Col md={2}>\r\n\t\t\t\t\t\t\t\t\t\t<Form.Control\r\n\t\t\t\t\t\t\t\t\t\t\tas='select'\r\n\t\t\t\t\t\t\t\t\t\t\tvalue={item.qty}\r\n\t\t\t\t\t\t\t\t\t\t\tonChange={(e) =>\r\n\t\t\t\t\t\t\t\t\t\t\t\tdispatch(\r\n\t\t\t\t\t\t\t\t\t\t\t\t\taddToCart(item.product, Number(e.target.value))\r\n\t\t\t\t\t\t\t\t\t\t\t\t)\r\n\t\t\t\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t\t\t\t{/* Getting countInStock keys */}\r\n\t\t\t\t\t\t\t\t\t\t\t{[...Array(item.countInStock).keys()].map((x) => (\r\n\t\t\t\t\t\t\t\t\t\t\t\t<option key={x + 1} value={x + 1}>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t{x + 1}\r\n\t\t\t\t\t\t\t\t\t\t\t\t</option>\r\n\t\t\t\t\t\t\t\t\t\t\t))}\r\n\t\t\t\t\t\t\t\t\t\t</Form.Control>\r\n\t\t\t\t\t\t\t\t\t</Col>\r\n\t\t\t\t\t\t\t\t\t<Col md={2}>\r\n\t\t\t\t\t\t\t\t\t\t<Button\r\n\t\t\t\t\t\t\t\t\t\t\ttype='button'\r\n\t\t\t\t\t\t\t\t\t\t\tvariant='light'\r\n\t\t\t\t\t\t\t\t\t\t\tonClick={() => removeFromCartHandler(item.product)}\r\n\t\t\t\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t\t\t\t<i className='fas fa-trash'></i>\r\n\t\t\t\t\t\t\t\t\t\t</Button>\r\n\t\t\t\t\t\t\t\t\t</Col>\r\n\t\t\t\t\t\t\t\t</Row>\r\n\t\t\t\t\t\t\t</ListGroup.Item>\r\n\t\t\t\t\t\t))}\r\n\t\t\t\t\t</ListGroup>\r\n\t\t\t\t)}\r\n\t\t\t</Col>\r\n\t\t\t<Col md={4}>\r\n\t\t\t\t<Card>\r\n\t\t\t\t\t<ListGroup variant='flush'>\r\n\t\t\t\t\t\t<ListGroup.Item>\r\n\t\t\t\t\t\t\t<h2>\r\n\t\t\t\t\t\t\t\tSubtotal ({cartItems.reduce((acc, item) => acc + item.qty, 0)})\r\n\t\t\t\t\t\t\t\titems\r\n\t\t\t\t\t\t\t</h2>\r\n\t\t\t\t\t\t\t<span className='push-to-right'>\r\n\t\t\t\t\t\t\t\tUSD\r\n\t\t\t\t\t\t\t\t{addDecimals(\r\n\t\t\t\t\t\t\t\t\tcartItems\r\n\t\t\t\t\t\t\t\t\t\t.reduce((acc, item) => acc + item.qty * item.price, 0)\r\n\t\t\t\t\t\t\t\t\t\t.toFixed(2)\r\n\t\t\t\t\t\t\t\t)}\r\n\t\t\t\t\t\t\t</span>\r\n\t\t\t\t\t\t</ListGroup.Item>\r\n\t\t\t\t\t\t<ListGroup.Item>\r\n\t\t\t\t\t\t\t<Button\r\n\t\t\t\t\t\t\t\ttype='button'\r\n\t\t\t\t\t\t\t\tclassName='btn-block'\r\n\t\t\t\t\t\t\t\tdisabled={cartItems.length === 0}\r\n\t\t\t\t\t\t\t\tonClick={checkoutHandler}\r\n\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\tProceed to Checkout\r\n\t\t\t\t\t\t\t</Button>\r\n\t\t\t\t\t\t</ListGroup.Item>\r\n\t\t\t\t\t</ListGroup>\r\n\t\t\t\t</Card>\r\n\t\t\t</Col>\r\n\t\t</Row>\r\n\t)\r\n}\r\n\r\nexport default CartScreen\r\n","import React from 'react'\r\nimport { Container, Row, Col } from 'react-bootstrap'\r\n\r\nconst FormContainer = ({ children }) => {\r\n\treturn (\r\n\t\t<Container>\r\n\t\t\t<Row className='justify-content-md-center'>\r\n\t\t\t\t<Col xs={12} md={6}>\r\n\t\t\t\t\t{children}\r\n\t\t\t\t</Col>\r\n\t\t\t</Row>\r\n\t\t</Container>\r\n\t)\r\n}\r\n\r\nexport default FormContainer\r\n","import React, { useState, useEffect } from 'react'\r\nimport { Link } from 'react-router-dom'\r\nimport { Form, Button, Row, Col } from 'react-bootstrap'\r\nimport { useDispatch, useSelector } from 'react-redux'\r\nimport Message from '../components/Message'\r\nimport Loader from '../components/Loader'\r\nimport FormContainer from '../components/FormContainer'\r\nimport { login } from '../actions/userActions'\r\n\r\nconst LoginScreen = ({ location, history }) => {\r\n\tconst [email, setEmail] = useState('')\r\n\tconst [password, setPassword] = useState('')\r\n\r\n\tconst dispatch = useDispatch()\r\n\r\n\t// useSelector is to grab what we want from the state\r\n\tconst userLogin = useSelector((state) => state.userLogin)\r\n\tconst { loading, error, userInfo } = userLogin\r\n\r\n\tconst redirect = location.search ? location.search.split('=')[1] : '/'\r\n\r\n\t// make request here upon component load\r\n\tuseEffect(\r\n\t\t() => {\r\n\t\t\tif (userInfo) {\r\n\t\t\t\thistory.push(redirect)\r\n\t\t\t}\r\n\t\t},\r\n\t\t[history, userInfo, redirect] // Dependencies, on change they fire off useEffect\r\n\t)\r\n\r\n\tconst submitHandler = (e) => {\r\n\t\te.preventDefault()\r\n\t\t// Dispatch login\r\n\t\tdispatch(login(email, password))\r\n\t}\r\n\r\n\treturn (\r\n\t\t<FormContainer>\r\n\t\t\t<h1>Sign In</h1>\r\n\t\t\t{/* \r\n            On error, display error\r\n            When loading, display Loading... */}\r\n\t\t\t{error && <Message variant='danger'>{error}</Message>}\r\n\t\t\t{loading && <Loader />}\r\n\t\t\t<Form onSubmit={submitHandler}>\r\n\t\t\t\t{/* Email */}\r\n\t\t\t\t<Form.Group controlId='email'>\r\n\t\t\t\t\t<Form.Label>Email Address</Form.Label>\r\n\t\t\t\t\t<Form.Control\r\n\t\t\t\t\t\ttype='email'\r\n\t\t\t\t\t\tplaceholder='Enter email'\r\n\t\t\t\t\t\tvalue={email}\r\n\t\t\t\t\t\tonChange={(e) => setEmail(e.target.value)}\r\n\t\t\t\t\t></Form.Control>\r\n\t\t\t\t</Form.Group>\r\n\t\t\t\t{/* Password */}\r\n\t\t\t\t<Form.Group controlId='password'>\r\n\t\t\t\t\t<Form.Label>Password</Form.Label>\r\n\t\t\t\t\t<Form.Control\r\n\t\t\t\t\t\ttype='password'\r\n\t\t\t\t\t\tplaceholder='Enter password'\r\n\t\t\t\t\t\tvalue={password}\r\n\t\t\t\t\t\tonChange={(e) => setPassword(e.target.value)}\r\n\t\t\t\t\t></Form.Control>\r\n\t\t\t\t</Form.Group>\r\n\t\t\t\t{/* Button */}\r\n\t\t\t\t<Button type='submit' variant='primary'>\r\n\t\t\t\t\tSign In\r\n\t\t\t\t</Button>\r\n\t\t\t</Form>\r\n\t\t\t{/* Register */}\r\n\t\t\t<Row className='py-3'>\r\n\t\t\t\t<Col>\r\n\t\t\t\t\tNew Customer?{' '}\r\n\t\t\t\t\t<Link to={redirect ? `/register?redirect=${redirect}` : '/register'}>\r\n\t\t\t\t\t\tRegister\r\n\t\t\t\t\t</Link>\r\n\t\t\t\t</Col>\r\n\t\t\t</Row>\r\n\t\t</FormContainer>\r\n\t)\r\n}\r\n\r\nexport default LoginScreen\r\n","import React, { useState, useEffect } from 'react'\r\nimport { Link } from 'react-router-dom'\r\nimport { Form, Button, Row, Col } from 'react-bootstrap'\r\nimport { useDispatch, useSelector } from 'react-redux'\r\nimport Message from '../components/Message'\r\nimport Loader from '../components/Loader'\r\nimport FormContainer from '../components/FormContainer'\r\nimport { register } from '../actions/userActions'\r\n\r\nconst RegisterScreen = ({ location, history }) => {\r\n\tconst [name, setName] = useState('')\r\n\tconst [email, setEmail] = useState('')\r\n\tconst [password, setPassword] = useState('')\r\n\tconst [confirmPassword, setConfirmPassword] = useState('')\r\n\tconst [message, setMessage] = useState(null)\r\n\r\n\tconst dispatch = useDispatch()\r\n\r\n\t// useSelector is to grab what we want from the state\r\n\tconst userRegister = useSelector((state) => state.userRegister)\r\n\tconst { loading, error, userInfo } = userRegister\r\n\r\n\tconst redirect = location.search ? location.search.split('=')[1] : '/'\r\n\r\n\t// make request here upon component load\r\n\tuseEffect(\r\n\t\t() => {\r\n\t\t\tif (userInfo) {\r\n\t\t\t\thistory.push(redirect)\r\n\t\t\t}\r\n\t\t},\r\n\t\t[history, userInfo, redirect] // Dependencies, on change they fire off useEffect\r\n\t)\r\n\r\n\tconst submitHandler = (e) => {\r\n\t\te.preventDefault()\r\n\t\t// Check if passwords match\r\n\t\tif (password !== confirmPassword) {\r\n\t\t\tsetMessage('Passwords do not match')\r\n\t\t} else {\r\n\t\t\t// Dispatch register\r\n\t\t\tdispatch(register(name, email, password))\r\n\t\t}\r\n\t}\r\n\r\n\treturn (\r\n\t\t<FormContainer>\r\n\t\t\t<h1>Sign Up</h1>\r\n\t\t\t{/* \r\n            On error, display message/error\r\n            When loading, display Loading... */}\r\n\t\t\t{message && <Message variant='danger'>{message}</Message>}\r\n\t\t\t{error && <Message variant='danger'>{error}</Message>}\r\n\t\t\t{loading && <Loader />}\r\n\t\t\t<Form onSubmit={submitHandler}>\r\n\t\t\t\t{/* Name */}\r\n\t\t\t\t<Form.Group controlId='email'>\r\n\t\t\t\t\t<Form.Label>Name</Form.Label>\r\n\t\t\t\t\t<Form.Control\r\n\t\t\t\t\t\ttype='text'\r\n\t\t\t\t\t\tplaceholder='Enter name'\r\n\t\t\t\t\t\tvalue={name}\r\n\t\t\t\t\t\tonChange={(e) => setName(e.target.value)}\r\n\t\t\t\t\t></Form.Control>\r\n\t\t\t\t</Form.Group>\r\n\t\t\t\t{/* Email */}\r\n\t\t\t\t<Form.Group controlId='email'>\r\n\t\t\t\t\t<Form.Label>Email Address</Form.Label>\r\n\t\t\t\t\t<Form.Control\r\n\t\t\t\t\t\ttype='email'\r\n\t\t\t\t\t\tplaceholder='Enter email'\r\n\t\t\t\t\t\tvalue={email}\r\n\t\t\t\t\t\tonChange={(e) => setEmail(e.target.value)}\r\n\t\t\t\t\t></Form.Control>\r\n\t\t\t\t</Form.Group>\r\n\t\t\t\t{/* Password */}\r\n\t\t\t\t<Form.Group controlId='password'>\r\n\t\t\t\t\t<Form.Label>Password</Form.Label>\r\n\t\t\t\t\t<Form.Control\r\n\t\t\t\t\t\ttype='password'\r\n\t\t\t\t\t\tplaceholder='Enter password'\r\n\t\t\t\t\t\tvalue={password}\r\n\t\t\t\t\t\tonChange={(e) => setPassword(e.target.value)}\r\n\t\t\t\t\t></Form.Control>\r\n\t\t\t\t</Form.Group>\r\n\t\t\t\t{/* Confirm Password */}\r\n\t\t\t\t<Form.Group controlId='confirmPassword'>\r\n\t\t\t\t\t<Form.Label>Confirm Password</Form.Label>\r\n\t\t\t\t\t<Form.Control\r\n\t\t\t\t\t\ttype='password'\r\n\t\t\t\t\t\tplaceholder='Confirm password'\r\n\t\t\t\t\t\tvalue={confirmPassword}\r\n\t\t\t\t\t\tonChange={(e) => setConfirmPassword(e.target.value)}\r\n\t\t\t\t\t></Form.Control>\r\n\t\t\t\t</Form.Group>\r\n\t\t\t\t{/* Button */}\r\n\t\t\t\t<Button type='submit' variant='primary'>\r\n\t\t\t\t\tRegister\r\n\t\t\t\t</Button>\r\n\t\t\t</Form>\r\n\t\t\t{/* Register */}\r\n\t\t\t<Row className='py-3'>\r\n\t\t\t\t<Col>\r\n\t\t\t\t\tHave an Account?{' '}\r\n\t\t\t\t\t<Link to={redirect ? `/login?redirect=${redirect}` : '/login'}>\r\n\t\t\t\t\t\tLogin\r\n\t\t\t\t\t</Link>\r\n\t\t\t\t</Col>\r\n\t\t\t</Row>\r\n\t\t</FormContainer>\r\n\t)\r\n}\r\n\r\nexport default RegisterScreen\r\n","import React, { useState, useEffect } from 'react'\r\nimport { Table, Form, Button, Row, Col } from 'react-bootstrap'\r\nimport { LinkContainer } from 'react-router-bootstrap'\r\nimport { useDispatch, useSelector } from 'react-redux'\r\nimport Message from '../components/Message'\r\nimport Loader from '../components/Loader'\r\nimport { getUserDetails, updateUserProfile } from '../actions/userActions'\r\nimport { listMyOrders } from '../actions/orderActions'\r\nimport { USER_UPDATE_PROFILE_RESET } from '../constants/userConstants'\r\n\r\nconst ProfileScreen = ({ history }) => {\r\n\tconst [name, setName] = useState('')\r\n\tconst [email, setEmail] = useState('')\r\n\tconst [password, setPassword] = useState('')\r\n\tconst [confirmPassword, setConfirmPassword] = useState('')\r\n\tconst [message, setMessage] = useState(null)\r\n\r\n\tconst dispatch = useDispatch()\r\n\r\n\t// useSelector is to grab what we want from the state\r\n\tconst userDetails = useSelector((state) => state.userDetails)\r\n\tconst { loading, error, user } = userDetails\r\n\r\n\t// Make sure user is logged in to access this page\r\n\tconst userLogin = useSelector((state) => state.userLogin)\r\n\tconst { userInfo } = userLogin\r\n\r\n\t// Get success value from userUpdateProfileReducer\r\n\tconst userUpdateProfile = useSelector((state) => state.userUpdateProfile)\r\n\tconst { success } = userUpdateProfile\r\n\r\n\t// To get my list of orders\r\n\tconst orderListMy = useSelector((state) => state.orderListMy)\r\n\tconst { loading: loadingOrders, error: errorOrders, orders } = orderListMy\r\n\r\n\t// make request here upon component load\r\n\tuseEffect(\r\n\t\t() => {\r\n\t\t\tif (!userInfo) {\r\n\t\t\t\thistory.push('/login')\r\n\t\t\t} else {\r\n\t\t\t\tif (!user || !user.name || success) {\r\n\t\t\t\t\tdispatch({ type: USER_UPDATE_PROFILE_RESET })\r\n\t\t\t\t\tdispatch(getUserDetails('profile'))\r\n\t\t\t\t\tdispatch(listMyOrders())\r\n\t\t\t\t} else {\r\n\t\t\t\t\tsetName(user.name)\r\n\t\t\t\t\tsetEmail(user.email)\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t},\r\n\t\t[dispatch, history, userInfo, user, success] // Dependencies, on change they fire off useEffect\r\n\t)\r\n\r\n\tconst submitHandler = (e) => {\r\n\t\te.preventDefault()\r\n\t\t// Check if passwords match\r\n\t\tif (password !== confirmPassword) {\r\n\t\t\tsetMessage('Passwords do not match')\r\n\t\t} else {\r\n\t\t\tdispatch(updateUserProfile({ id: user._id, name, email, password }))\r\n\t\t}\r\n\t}\r\n\r\n\treturn (\r\n\t\t<Row>\r\n\t\t\t<Col md={3}>\r\n\t\t\t\t<h2>User Profile</h2>\r\n\t\t\t\t{/* On error, display message/error\r\n            When loading, display Loading... */}\r\n\t\t\t\t{message && <Message variant='danger'>{message}</Message>}\r\n\t\t\t\t{error && <Message variant='danger'>{error}</Message>}\r\n\t\t\t\t{success && <Message variant='success'>Profile Updated</Message>}\r\n\t\t\t\t{loading && <Loader />}\r\n\t\t\t\t<Form onSubmit={submitHandler} className='push-to-right'>\r\n\t\t\t\t\t{/* Name */}\r\n\t\t\t\t\t<Form.Group controlId='email'>\r\n\t\t\t\t\t\t<Form.Label>Name</Form.Label>\r\n\t\t\t\t\t\t<Form.Control\r\n\t\t\t\t\t\t\ttype='name'\r\n\t\t\t\t\t\t\tplaceholder='Enter name'\r\n\t\t\t\t\t\t\tvalue={name}\r\n\t\t\t\t\t\t\tonChange={(e) => setName(e.target.value)}\r\n\t\t\t\t\t\t></Form.Control>\r\n\t\t\t\t\t</Form.Group>\r\n\t\t\t\t\t{/* Email */}\r\n\t\t\t\t\t<Form.Group controlId='email'>\r\n\t\t\t\t\t\t<Form.Label>Email Address</Form.Label>\r\n\t\t\t\t\t\t<Form.Control\r\n\t\t\t\t\t\t\ttype='email'\r\n\t\t\t\t\t\t\tplaceholder='Enter email'\r\n\t\t\t\t\t\t\tvalue={email}\r\n\t\t\t\t\t\t\tonChange={(e) => setEmail(e.target.value)}\r\n\t\t\t\t\t\t></Form.Control>\r\n\t\t\t\t\t</Form.Group>\r\n\t\t\t\t\t{/* Password */}\r\n\t\t\t\t\t<Form.Group controlId='password'>\r\n\t\t\t\t\t\t<Form.Label>Password</Form.Label>\r\n\t\t\t\t\t\t<Form.Control\r\n\t\t\t\t\t\t\ttype='password'\r\n\t\t\t\t\t\t\tplaceholder='Enter password'\r\n\t\t\t\t\t\t\tvalue={password}\r\n\t\t\t\t\t\t\tonChange={(e) => setPassword(e.target.value)}\r\n\t\t\t\t\t\t></Form.Control>\r\n\t\t\t\t\t</Form.Group>\r\n\t\t\t\t\t{/* Confirm Password */}\r\n\t\t\t\t\t<Form.Group controlId='confirmPassword'>\r\n\t\t\t\t\t\t<Form.Label>Confirm Password</Form.Label>\r\n\t\t\t\t\t\t<Form.Control\r\n\t\t\t\t\t\t\ttype='password'\r\n\t\t\t\t\t\t\tplaceholder='Confirm password'\r\n\t\t\t\t\t\t\tvalue={confirmPassword}\r\n\t\t\t\t\t\t\tonChange={(e) => setConfirmPassword(e.target.value)}\r\n\t\t\t\t\t\t></Form.Control>\r\n\t\t\t\t\t</Form.Group>\r\n\t\t\t\t\t{/* Button */}\r\n\t\t\t\t\t<Button type='submit' variant='primary'>\r\n\t\t\t\t\t\tUpdate\r\n\t\t\t\t\t</Button>\r\n\t\t\t\t</Form>\r\n\t\t\t</Col>\r\n\t\t\t<Col md={9}>\r\n\t\t\t\t<h2>My orders</h2>\r\n\t\t\t\t{loadingOrders ? (\r\n\t\t\t\t\t<Loader />\r\n\t\t\t\t) : errorOrders ? (\r\n\t\t\t\t\t<Message variant='danger'>{errorOrders}</Message>\r\n\t\t\t\t) : (\r\n\t\t\t\t\t<Table bordered hover responsive className='table-sm'>\r\n\t\t\t\t\t\t<thead>\r\n\t\t\t\t\t\t\t<tr>\r\n\t\t\t\t\t\t\t\t<th>ID</th>\r\n\t\t\t\t\t\t\t\t<th>Date</th>\r\n\t\t\t\t\t\t\t\t<th>Total</th>\r\n\t\t\t\t\t\t\t\t<th>Paid</th>\r\n\t\t\t\t\t\t\t\t<th>Delivered</th>\r\n\t\t\t\t\t\t\t\t<th>Info</th>\r\n\t\t\t\t\t\t\t</tr>\r\n\t\t\t\t\t\t</thead>\r\n\t\t\t\t\t\t<tbody>\r\n\t\t\t\t\t\t\t{orders.map((order) => (\r\n\t\t\t\t\t\t\t\t<tr key={order._id}>\r\n\t\t\t\t\t\t\t\t\t<td>{order._id}</td>\r\n\t\t\t\t\t\t\t\t\t<td>{order.createdAt.substring(0, 10)}</td>\r\n\t\t\t\t\t\t\t\t\t<td>USD{order.totalPrice}</td>\r\n\t\t\t\t\t\t\t\t\t<td>\r\n\t\t\t\t\t\t\t\t\t\t{order.isPaid ? (\r\n\t\t\t\t\t\t\t\t\t\t\torder.paidAt.substring(0, 10)\r\n\t\t\t\t\t\t\t\t\t\t) : (\r\n\t\t\t\t\t\t\t\t\t\t\t<i className='fas fa-times' style={{ color: 'red' }}></i>\r\n\t\t\t\t\t\t\t\t\t\t)}\r\n\t\t\t\t\t\t\t\t\t</td>\r\n\t\t\t\t\t\t\t\t\t<td>\r\n\t\t\t\t\t\t\t\t\t\t{order.isDeliverd ? (\r\n\t\t\t\t\t\t\t\t\t\t\torder.deliveredAt.substring(0, 10)\r\n\t\t\t\t\t\t\t\t\t\t) : (\r\n\t\t\t\t\t\t\t\t\t\t\t<i className='fas fa-times' style={{ color: 'red' }}></i>\r\n\t\t\t\t\t\t\t\t\t\t)}\r\n\t\t\t\t\t\t\t\t\t</td>\r\n\t\t\t\t\t\t\t\t\t<td>\r\n\t\t\t\t\t\t\t\t\t\t<LinkContainer to={`/order/${order._id}`}>\r\n\t\t\t\t\t\t\t\t\t\t\t<Button className='btn-sm' variant='light'>\r\n\t\t\t\t\t\t\t\t\t\t\t\tDetails\r\n\t\t\t\t\t\t\t\t\t\t\t</Button>\r\n\t\t\t\t\t\t\t\t\t\t</LinkContainer>\r\n\t\t\t\t\t\t\t\t\t</td>\r\n\t\t\t\t\t\t\t\t</tr>\r\n\t\t\t\t\t\t\t))}\r\n\t\t\t\t\t\t</tbody>\r\n\t\t\t\t\t</Table>\r\n\t\t\t\t)}\r\n\t\t\t</Col>\r\n\t\t</Row>\r\n\t)\r\n}\r\n\r\nexport default ProfileScreen\r\n","import axios from 'axios'\r\nimport { CART_CLEAR_ITEMS } from '../constants/cartConstants'\r\nimport {\r\n\tORDER_CREATE_REQUEST,\r\n\tORDER_CREATE_SUCCESS,\r\n\tORDER_CREATE_FAIL,\r\n\tORDER_DETAILS_REQUEST,\r\n\tORDER_DETAILS_SUCCESS,\r\n\tORDER_DETAILS_FAIL,\r\n\tORDER_PAY_REQUEST,\r\n\tORDER_PAY_SUCCESS,\r\n\tORDER_PAY_FAIL,\r\n\tORDER_LIST_MY_REQUEST,\r\n\tORDER_LIST_MY_SUCCESS,\r\n\tORDER_LIST_MY_FAIL,\r\n\tORDER_LIST_REQUEST,\r\n\tORDER_LIST_SUCCESS,\r\n\tORDER_LIST_FAIL,\r\n\tORDER_DELIVER_REQUEST,\r\n\tORDER_DELIVER_SUCCESS,\r\n\tORDER_DELIVER_FAIL,\r\n} from '../constants/orderConstants'\r\n\r\n// Actions to create a new order\r\nexport const createOrder = (order) => async (dispatch, getState) => {\r\n\ttry {\r\n\t\tdispatch({ type: ORDER_CREATE_REQUEST })\r\n\r\n\t\t// Get userInfo from userLogin by destructuring\r\n\t\tconst {\r\n\t\t\tuserLogin: { userInfo },\r\n\t\t} = getState()\r\n\r\n\t\tconst config = {\r\n\t\t\theaders: {\r\n\t\t\t\t'Content-Type': 'application/json',\r\n\t\t\t\tAuthorization: `Bearer ${userInfo.token}`,\r\n\t\t\t},\r\n\t\t}\r\n\r\n\t\t// Make post request to create an order\r\n\t\tconst { data } = await axios.post('/api/orders', order, config)\r\n\r\n\t\tdispatch({\r\n\t\t\ttype: ORDER_CREATE_SUCCESS,\r\n\t\t\tpayload: data,\r\n\t\t})\r\n\t\tdispatch({\r\n\t\t\ttype: CART_CLEAR_ITEMS,\r\n\t\t\tpayload: data,\r\n\t\t})\r\n\t\tlocalStorage.removeItem('cartItems')\r\n\t} catch (error) {\r\n\t\tdispatch({\r\n\t\t\ttype: ORDER_CREATE_FAIL,\r\n\t\t\tpayload:\r\n\t\t\t\t// Send a custom error message\r\n\t\t\t\t// Else send a generic error message\r\n\t\t\t\terror.response && error.response.data.message\r\n\t\t\t\t\t? error.response.data.message\r\n\t\t\t\t\t: error.message,\r\n\t\t})\r\n\t}\r\n}\r\n// Actions to create a new order\r\nexport const getOrderDetails = (id) => async (dispatch, getState) => {\r\n\ttry {\r\n\t\tdispatch({ type: ORDER_DETAILS_REQUEST })\r\n\r\n\t\t// Get userInfo from userLogin by destructuring\r\n\t\tconst {\r\n\t\t\tuserLogin: { userInfo },\r\n\t\t} = getState()\r\n\r\n\t\tconst config = {\r\n\t\t\theaders: {\r\n\t\t\t\tAuthorization: `Bearer ${userInfo.token}`,\r\n\t\t\t},\r\n\t\t}\r\n\r\n\t\t// Make get request to get an order\r\n\t\tconst { data } = await axios.get(`/api/orders/${id}`, config)\r\n\r\n\t\tdispatch({\r\n\t\t\ttype: ORDER_DETAILS_SUCCESS,\r\n\t\t\tpayload: data,\r\n\t\t})\r\n\t} catch (error) {\r\n\t\tdispatch({\r\n\t\t\ttype: ORDER_DETAILS_FAIL,\r\n\t\t\tpayload:\r\n\t\t\t\t// Send a custom error message\r\n\t\t\t\t// Else send a generic error message\r\n\t\t\t\terror.response && error.response.data.message\r\n\t\t\t\t\t? error.response.data.message\r\n\t\t\t\t\t: error.message,\r\n\t\t})\r\n\t}\r\n}\r\n// Actions to create a new order\r\nexport const payOrder = (orderId, paymentResult) => async (\r\n\tdispatch,\r\n\tgetState\r\n) => {\r\n\ttry {\r\n\t\tdispatch({ type: ORDER_PAY_REQUEST })\r\n\r\n\t\t// Get userInfo from userLogin by destructuring\r\n\t\tconst {\r\n\t\t\tuserLogin: { userInfo },\r\n\t\t} = getState()\r\n\r\n\t\tconst config = {\r\n\t\t\theaders: {\r\n\t\t\t\t'Content-Type': 'application/json',\r\n\t\t\t\tAuthorization: `Bearer ${userInfo.token}`,\r\n\t\t\t},\r\n\t\t}\r\n\r\n\t\t// Make put request to make payment\r\n\t\tconst { data } = await axios.put(\r\n\t\t\t`/api/orders/${orderId}/pay`,\r\n\t\t\tpaymentResult,\r\n\t\t\tconfig\r\n\t\t)\r\n\r\n\t\tdispatch({\r\n\t\t\ttype: ORDER_PAY_SUCCESS,\r\n\t\t\tpayload: data,\r\n\t\t})\r\n\t} catch (error) {\r\n\t\tdispatch({\r\n\t\t\ttype: ORDER_PAY_FAIL,\r\n\t\t\tpayload:\r\n\t\t\t\t// Send a custom error message\r\n\t\t\t\t// Else send a generic error message\r\n\t\t\t\terror.response && error.response.data.message\r\n\t\t\t\t\t? error.response.data.message\r\n\t\t\t\t\t: error.message,\r\n\t\t})\r\n\t}\r\n}\r\n// Actions to list my orders\r\nexport const listMyOrders = () => async (dispatch, getState) => {\r\n\ttry {\r\n\t\tdispatch({ type: ORDER_LIST_MY_REQUEST })\r\n\r\n\t\t// Get userInfo from userLogin by destructuring\r\n\t\tconst {\r\n\t\t\tuserLogin: { userInfo },\r\n\t\t} = getState()\r\n\r\n\t\tconst config = {\r\n\t\t\theaders: {\r\n\t\t\t\tAuthorization: `Bearer ${userInfo.token}`,\r\n\t\t\t},\r\n\t\t}\r\n\r\n\t\t// Make get request to get my orders\r\n\t\tconst { data } = await axios.get('/api/orders/myorders', config)\r\n\r\n\t\tdispatch({\r\n\t\t\ttype: ORDER_LIST_MY_SUCCESS,\r\n\t\t\tpayload: data,\r\n\t\t})\r\n\t} catch (error) {\r\n\t\tdispatch({\r\n\t\t\ttype: ORDER_LIST_MY_FAIL,\r\n\t\t\tpayload:\r\n\t\t\t\t// Send a custom error message\r\n\t\t\t\t// Else send a generic error message\r\n\t\t\t\terror.response && error.response.data.message\r\n\t\t\t\t\t? error.response.data.message\r\n\t\t\t\t\t: error.message,\r\n\t\t})\r\n\t}\r\n}\r\n// Actions to list all orders\r\nexport const listOrders = () => async (dispatch, getState) => {\r\n\ttry {\r\n\t\tdispatch({ type: ORDER_LIST_REQUEST })\r\n\r\n\t\t// Get userInfo from userLogin by destructuring\r\n\t\tconst {\r\n\t\t\tuserLogin: { userInfo },\r\n\t\t} = getState()\r\n\r\n\t\tconst config = {\r\n\t\t\theaders: {\r\n\t\t\t\tAuthorization: `Bearer ${userInfo.token}`,\r\n\t\t\t},\r\n\t\t}\r\n\r\n\t\t// Make get request to get all orders\r\n\t\tconst { data } = await axios.get('/api/orders', config)\r\n\r\n\t\tdispatch({\r\n\t\t\ttype: ORDER_LIST_SUCCESS,\r\n\t\t\tpayload: data,\r\n\t\t})\r\n\t} catch (error) {\r\n\t\tdispatch({\r\n\t\t\ttype: ORDER_LIST_FAIL,\r\n\t\t\tpayload:\r\n\t\t\t\t// Send a custom error message\r\n\t\t\t\t// Else send a generic error message\r\n\t\t\t\terror.response && error.response.data.message\r\n\t\t\t\t\t? error.response.data.message\r\n\t\t\t\t\t: error.message,\r\n\t\t})\r\n\t}\r\n}\r\n// Actions to create a new order\r\nexport const deliverOrder = (order) => async (dispatch, getState) => {\r\n\ttry {\r\n\t\tdispatch({ type: ORDER_DELIVER_REQUEST })\r\n\r\n\t\t// Get userInfo from userLogin by destructuring\r\n\t\tconst {\r\n\t\t\tuserLogin: { userInfo },\r\n\t\t} = getState()\r\n\r\n\t\tconst config = {\r\n\t\t\theaders: {\r\n\t\t\t\tAuthorization: `Bearer ${userInfo.token}`,\r\n\t\t\t},\r\n\t\t}\r\n\r\n\t\t// Make put request to mark order as out for delivery\r\n\t\tconst { data } = await axios.put(\r\n\t\t\t`/api/orders/${order._id}/deliver`,\r\n\t\t\t{},\r\n\t\t\tconfig\r\n\t\t)\r\n\r\n\t\tdispatch({\r\n\t\t\ttype: ORDER_DELIVER_SUCCESS,\r\n\t\t\tpayload: data,\r\n\t\t})\r\n\t} catch (error) {\r\n\t\tdispatch({\r\n\t\t\ttype: ORDER_DELIVER_FAIL,\r\n\t\t\tpayload:\r\n\t\t\t\t// Send a custom error message\r\n\t\t\t\t// Else send a generic error message\r\n\t\t\t\terror.response && error.response.data.message\r\n\t\t\t\t\t? error.response.data.message\r\n\t\t\t\t\t: error.message,\r\n\t\t})\r\n\t}\r\n}\r\n","import React from 'react'\r\nimport { Nav } from 'react-bootstrap'\r\nimport { LinkContainer } from 'react-router-bootstrap'\r\n\r\nconst CheckoutSteps = ({ step1, step2, step3, step4 }) => {\r\n\treturn (\r\n\t\t<Nav className='justify-content-center mb-4'>\r\n\t\t\t{/* Step 1 Sign In */}\r\n\t\t\t<Nav.Item>\r\n\t\t\t\t{step1 ? (\r\n\t\t\t\t\t<LinkContainer to='/login'>\r\n\t\t\t\t\t\t<Nav.Link>Sign In</Nav.Link>\r\n\t\t\t\t\t</LinkContainer>\r\n\t\t\t\t) : (\r\n\t\t\t\t\t<Nav.Link disabled>Sign In</Nav.Link>\r\n\t\t\t\t)}\r\n\t\t\t</Nav.Item>\r\n\t\t\t{/* Step 2 Shipping */}\r\n\t\t\t<Nav.Item>\r\n\t\t\t\t{step2 ? (\r\n\t\t\t\t\t<LinkContainer to='/shipping'>\r\n\t\t\t\t\t\t<Nav.Link>Shipping</Nav.Link>\r\n\t\t\t\t\t</LinkContainer>\r\n\t\t\t\t) : (\r\n\t\t\t\t\t<Nav.Link disabled>Shipping</Nav.Link>\r\n\t\t\t\t)}\r\n\t\t\t</Nav.Item>\r\n\t\t\t{/* Step 3 Payment */}\r\n\t\t\t<Nav.Item>\r\n\t\t\t\t{step3 ? (\r\n\t\t\t\t\t<LinkContainer to='/payment'>\r\n\t\t\t\t\t\t<Nav.Link>Payment</Nav.Link>\r\n\t\t\t\t\t</LinkContainer>\r\n\t\t\t\t) : (\r\n\t\t\t\t\t<Nav.Link disabled>Payment</Nav.Link>\r\n\t\t\t\t)}\r\n\t\t\t</Nav.Item>\r\n\t\t\t{/* Step 4 Place Order */}\r\n\t\t\t<Nav.Item>\r\n\t\t\t\t{step4 ? (\r\n\t\t\t\t\t<LinkContainer to='/placeorder'>\r\n\t\t\t\t\t\t<Nav.Link>Place Order</Nav.Link>\r\n\t\t\t\t\t</LinkContainer>\r\n\t\t\t\t) : (\r\n\t\t\t\t\t<Nav.Link disabled>Place Order</Nav.Link>\r\n\t\t\t\t)}\r\n\t\t\t</Nav.Item>\r\n\t\t</Nav>\r\n\t)\r\n}\r\n\r\nexport default CheckoutSteps\r\n","import React, { useState } from 'react'\r\nimport { Form, Button } from 'react-bootstrap'\r\nimport { useDispatch, useSelector } from 'react-redux'\r\nimport FormContainer from '../components/FormContainer'\r\nimport CheckoutSteps from '../components/CheckoutSteps'\r\nimport { saveShippingAddress } from '../actions/cartActions'\r\n\r\nconst ShippingScreen = ({ history }) => {\r\n\t// useSelector is to grab the cart from the state\r\n\tconst cart = useSelector((state) => state.cart)\r\n\tconst { shippingAddress } = cart\r\n\r\n\tconst [address, setAddress] = useState(shippingAddress.address)\r\n\tconst [city, setCity] = useState(shippingAddress.city)\r\n\tconst [postalCode, setPostalCode] = useState(shippingAddress.postalCode)\r\n\tconst [country, setCountry] = useState(shippingAddress.country)\r\n\r\n\tconst dispatch = useDispatch()\r\n\r\n\tconst submitHandler = (e) => {\r\n\t\te.preventDefault()\r\n\t\tdispatch(saveShippingAddress({ address, city, postalCode, country }))\r\n\t\thistory.push('/payment')\r\n\t}\r\n\r\n\treturn (\r\n\t\t<FormContainer>\r\n\t\t\t<CheckoutSteps step1 step2 />\r\n\t\t\t<h1>Shipping</h1>\r\n\t\t\t<Form onSubmit={submitHandler}>\r\n\t\t\t\t{/* Address */}\r\n\t\t\t\t<Form.Group controlId='address'>\r\n\t\t\t\t\t<Form.Label>Address</Form.Label>\r\n\t\t\t\t\t<Form.Control\r\n\t\t\t\t\t\ttype='text'\r\n\t\t\t\t\t\tplaceholder='Enter address'\r\n\t\t\t\t\t\tvalue={address}\r\n\t\t\t\t\t\trequired\r\n\t\t\t\t\t\tonChange={(e) => setAddress(e.target.value)}\r\n\t\t\t\t\t></Form.Control>\r\n\t\t\t\t</Form.Group>\r\n\t\t\t\t{/* City */}\r\n\t\t\t\t<Form.Group controlId='city'>\r\n\t\t\t\t\t<Form.Label>City</Form.Label>\r\n\t\t\t\t\t<Form.Control\r\n\t\t\t\t\t\ttype='text'\r\n\t\t\t\t\t\tplaceholder='Enter city'\r\n\t\t\t\t\t\tvalue={city}\r\n\t\t\t\t\t\trequired\r\n\t\t\t\t\t\tonChange={(e) => setCity(e.target.value)}\r\n\t\t\t\t\t></Form.Control>\r\n\t\t\t\t</Form.Group>\r\n\t\t\t\t{/* Postal Code */}\r\n\t\t\t\t<Form.Group controlId='postalCode'>\r\n\t\t\t\t\t<Form.Label>Postal Code</Form.Label>\r\n\t\t\t\t\t<Form.Control\r\n\t\t\t\t\t\ttype='text'\r\n\t\t\t\t\t\tplaceholder='Enter postal code'\r\n\t\t\t\t\t\tvalue={postalCode}\r\n\t\t\t\t\t\trequired\r\n\t\t\t\t\t\tonChange={(e) => setPostalCode(e.target.value)}\r\n\t\t\t\t\t></Form.Control>\r\n\t\t\t\t</Form.Group>\r\n\t\t\t\t{/* Country */}\r\n\t\t\t\t<Form.Group controlId='country'>\r\n\t\t\t\t\t<Form.Label>Country</Form.Label>\r\n\t\t\t\t\t<Form.Control\r\n\t\t\t\t\t\ttype='text'\r\n\t\t\t\t\t\tplaceholder='Enter country'\r\n\t\t\t\t\t\tvalue={country}\r\n\t\t\t\t\t\trequired\r\n\t\t\t\t\t\tonChange={(e) => setCountry(e.target.value)}\r\n\t\t\t\t\t></Form.Control>\r\n\t\t\t\t</Form.Group>\r\n\t\t\t\t<Button type='submit' variant='primary'>\r\n\t\t\t\t\tContinue\r\n\t\t\t\t</Button>\r\n\t\t\t</Form>\r\n\t\t</FormContainer>\r\n\t)\r\n}\r\n\r\nexport default ShippingScreen\r\n","import React, { useState } from 'react'\r\nimport { Form, Button, Col } from 'react-bootstrap'\r\nimport { useDispatch, useSelector } from 'react-redux'\r\nimport FormContainer from '../components/FormContainer'\r\nimport CheckoutSteps from '../components/CheckoutSteps'\r\nimport { savePaymentMethod } from '../actions/cartActions'\r\n\r\nconst PaymentScreen = ({ history }) => {\r\n\t// useSelector is to grab the cart from the state\r\n\tconst cart = useSelector((state) => state.cart)\r\n\tconst { shippingAddress } = cart\r\n\r\n\tif (!shippingAddress) {\r\n\t\thistory.push('/shipping')\r\n\t}\r\n\r\n\t// Default paymentMethod is PayPal but can be changed\r\n\tconst [paymentMethod, setPaymentMethod] = useState('PayPal')\r\n\r\n\tconst dispatch = useDispatch()\r\n\r\n\tconst submitHandler = (e) => {\r\n\t\te.preventDefault()\r\n\t\tdispatch(savePaymentMethod(paymentMethod))\r\n\t\thistory.push('/placeorder')\r\n\t}\r\n\r\n\treturn (\r\n\t\t<FormContainer>\r\n\t\t\t<CheckoutSteps step1 step2 step3 />\r\n\t\t\t<h1>Payment Method</h1>\r\n\t\t\t<Form onSubmit={submitHandler}>\r\n\t\t\t\t<Form.Group>\r\n\t\t\t\t\t<Form.Label as='legend'>Select Method</Form.Label>\r\n\t\t\t\t\t<Col>\r\n\t\t\t\t\t\t{/* Payment methods\r\n                    Add Form.Check with new payment method */}\r\n\t\t\t\t\t\t<Form.Check\r\n\t\t\t\t\t\t\ttype='radio'\r\n\t\t\t\t\t\t\tlabel='PayPal or Credit Card'\r\n\t\t\t\t\t\t\tid='PayPal'\r\n\t\t\t\t\t\t\tname='paymentMethod'\r\n\t\t\t\t\t\t\tvalue='PayPal'\r\n\t\t\t\t\t\t\tchecked\r\n\t\t\t\t\t\t\tonChange={(e) => setPaymentMethod(e.target.value)}\r\n\t\t\t\t\t\t></Form.Check>\r\n\t\t\t\t\t\t{/* <Form.Check\r\n\t\t\t\t\t\t\ttype='radio'\r\n\t\t\t\t\t\t\tlabel='Stripe'\r\n\t\t\t\t\t\t\tid='Stripe'\r\n\t\t\t\t\t\t\tname='paymentMethod'\r\n\t\t\t\t\t\t\tvalue='Stripe'\r\n\t\t\t\t\t\t\tonChange={(e) => setPaymentMethod(e.target.value)}\r\n\t\t\t\t\t\t></Form.Check> */}\r\n\t\t\t\t\t</Col>\r\n\t\t\t\t</Form.Group>\r\n\t\t\t\t<Button type='submit' variant='primary'>\r\n\t\t\t\t\tContinue\r\n\t\t\t\t</Button>\r\n\t\t\t</Form>\r\n\t\t</FormContainer>\r\n\t)\r\n}\r\n\r\nexport default PaymentScreen\r\n","import React, { useEffect } from 'react'\r\nimport { Link } from 'react-router-dom'\r\nimport { Button, Row, Col, ListGroup, Image, Card } from 'react-bootstrap'\r\nimport { useDispatch, useSelector } from 'react-redux'\r\nimport Message from '../components/Message'\r\nimport CheckoutSteps from '../components/CheckoutSteps'\r\nimport { createOrder } from '../actions/orderActions'\r\nimport { USER_DETAILS_RESET } from '../constants/userConstants'\r\nimport { ORDER_CREATE_RESET } from '../constants/orderConstants'\r\n\r\nconst PlaceOrderScreen = ({ history }) => {\r\n\tconst dispatch = useDispatch()\r\n\r\n\tconst cart = useSelector((state) => state.cart)\r\n\r\n\t// Calculate prices\r\n\t// Add two decimals to price if needed\r\n\tconst addDecimals = (num) => {\r\n\t\treturn (Math.round(num * 100) / 100).toFixed(2)\r\n\t}\r\n\t// Items price\r\n\tcart.itemsPrice = addDecimals(\r\n\t\tcart.cartItems.reduce((acc, item) => acc + item.price * item.qty, 0)\r\n\t)\r\n\t// Shipping price - over USD100 = USD0\r\n\t// Else USD150\r\n\tcart.shippingPrice = addDecimals(cart.itemsPrice > 1000 ? 0 : 150)\r\n\t// Tax price\r\n\tcart.taxPrice = addDecimals(Number((0.15 * cart.itemsPrice).toFixed(2)))\r\n\t// Total price\r\n\tcart.totalPrice = addDecimals(\r\n\t\t(\r\n\t\t\tNumber(cart.itemsPrice) +\r\n\t\t\tNumber(cart.shippingPrice) +\r\n\t\t\tNumber(cart.taxPrice)\r\n\t\t).toFixed(2)\r\n\t)\r\n\r\n\tconst orderCreate = useSelector((state) => state.orderCreate)\r\n\tconst { order, success, error } = orderCreate\r\n\r\n\tuseEffect(() => {\r\n\t\tif (success) {\r\n\t\t\thistory.push(`/order/${order._id}`)\r\n\t\t\tdispatch({ type: USER_DETAILS_RESET })\r\n\t\t\tdispatch({ type: ORDER_CREATE_RESET })\r\n\t\t}\r\n\t\t// eslint-disable-next-line\r\n\t}, [history, success]) // Dependencies, on change they fire off useEffect\r\n\r\n\tconst placeOrderHandler = () => {\r\n\t\tdispatch(\r\n\t\t\tcreateOrder({\r\n\t\t\t\torderItems: cart.cartItems,\r\n\t\t\t\tshippingAddress: cart.shippingAddress,\r\n\t\t\t\tpaymentMethod: cart.paymentMethod,\r\n\t\t\t\titemsPrice: cart.itemsPrice,\r\n\t\t\t\tshippingPrice: cart.shippingPrice,\r\n\t\t\t\ttaxPrice: cart.taxPrice,\r\n\t\t\t\ttotalPrice: cart.totalPrice,\r\n\t\t\t})\r\n\t\t)\r\n\t}\r\n\r\n\treturn (\r\n\t\t<>\r\n\t\t\t<CheckoutSteps step1 step2 step3 step4 />\r\n\t\t\t<Row>\r\n\t\t\t\t{/* Left Steps Summary */}\r\n\t\t\t\t<Col md={8}>\r\n\t\t\t\t\t<ListGroup variant='flush'>\r\n\t\t\t\t\t\t<ListGroup.Item>\r\n\t\t\t\t\t\t\t<h2>Shipping</h2>\r\n\t\t\t\t\t\t\t<p>\r\n\t\t\t\t\t\t\t\t<span className='push-to-right'>\r\n\t\t\t\t\t\t\t\t\t<strong>Address: </strong>\r\n\t\t\t\t\t\t\t\t\t{cart.shippingAddress.address}, {cart.shippingAddress.city}{' '}\r\n\t\t\t\t\t\t\t\t\t{cart.shippingAddress.postalCode},{' '}\r\n\t\t\t\t\t\t\t\t\t{cart.shippingAddress.country}\r\n\t\t\t\t\t\t\t\t</span>\r\n\t\t\t\t\t\t\t</p>\r\n\t\t\t\t\t\t</ListGroup.Item>\r\n\t\t\t\t\t\t<ListGroup.Item>\r\n\t\t\t\t\t\t\t<h2>Payment Method</h2>\r\n\t\t\t\t\t\t\t<span className='push-to-right'>\r\n\t\t\t\t\t\t\t\t<strong>Method: </strong>\r\n\t\t\t\t\t\t\t\t{cart.paymentMethod}\r\n\t\t\t\t\t\t\t</span>\r\n\t\t\t\t\t\t</ListGroup.Item>\r\n\t\t\t\t\t\t<ListGroup.Item>\r\n\t\t\t\t\t\t\t<h2>Order Items</h2>\r\n\t\t\t\t\t\t\t{cart.cartItems.length === 0 ? (\r\n\t\t\t\t\t\t\t\t<Message>Your cart is empty</Message>\r\n\t\t\t\t\t\t\t) : (\r\n\t\t\t\t\t\t\t\t<ListGroup variant='flush'>\r\n\t\t\t\t\t\t\t\t\t{cart.cartItems.map((item, index) => (\r\n\t\t\t\t\t\t\t\t\t\t<ListGroup.Item key={index}>\r\n\t\t\t\t\t\t\t\t\t\t\t<Row>\r\n\t\t\t\t\t\t\t\t\t\t\t\t<Col md={1}>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t<Image\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tsrc={item.image}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\talt={item.name}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tfluid\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\trounded\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t\t\t\t\t\t</Col>\r\n\t\t\t\t\t\t\t\t\t\t\t\t<Col>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t<Link to={`/product/${item.product}`}>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t{item.name}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t</Link>\r\n\t\t\t\t\t\t\t\t\t\t\t\t</Col>\r\n\t\t\t\t\t\t\t\t\t\t\t\t<Col md={4}>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t{item.qty} x USD{item.price} = USD{item.qty * item.price}\r\n\t\t\t\t\t\t\t\t\t\t\t\t</Col>\r\n\t\t\t\t\t\t\t\t\t\t\t</Row>\r\n\t\t\t\t\t\t\t\t\t\t</ListGroup.Item>\r\n\t\t\t\t\t\t\t\t\t))}\r\n\t\t\t\t\t\t\t\t</ListGroup>\r\n\t\t\t\t\t\t\t)}\r\n\t\t\t\t\t\t</ListGroup.Item>\r\n\t\t\t\t\t</ListGroup>\r\n\t\t\t\t</Col>\r\n\t\t\t\t{/* Right Order Summary */}\r\n\t\t\t\t<Col md={4}>\r\n\t\t\t\t\t<Card>\r\n\t\t\t\t\t\t<ListGroup variant='flush'>\r\n\t\t\t\t\t\t\t<ListGroup.Item>\r\n\t\t\t\t\t\t\t\t<h2>Order Summary</h2>\r\n\t\t\t\t\t\t\t</ListGroup.Item>\r\n\t\t\t\t\t\t\t<ListGroup.Item className='push-to-right'>\r\n\t\t\t\t\t\t\t\t<Row>\r\n\t\t\t\t\t\t\t\t\t<Col>Items</Col>\r\n\t\t\t\t\t\t\t\t\t<Col>USD{cart.itemsPrice}</Col>\r\n\t\t\t\t\t\t\t\t</Row>\r\n\t\t\t\t\t\t\t</ListGroup.Item>\r\n\t\t\t\t\t\t\t<ListGroup.Item className='push-to-right'>\r\n\t\t\t\t\t\t\t\t<Row>\r\n\t\t\t\t\t\t\t\t\t<Col>Shipping</Col>\r\n\t\t\t\t\t\t\t\t\t<Col>USD{cart.shippingPrice}</Col>\r\n\t\t\t\t\t\t\t\t</Row>\r\n\t\t\t\t\t\t\t</ListGroup.Item>\r\n\t\t\t\t\t\t\t<ListGroup.Item className='push-to-right'>\r\n\t\t\t\t\t\t\t\t<Row>\r\n\t\t\t\t\t\t\t\t\t<Col>Tax</Col>\r\n\t\t\t\t\t\t\t\t\t<Col>USD{cart.taxPrice}</Col>\r\n\t\t\t\t\t\t\t\t</Row>\r\n\t\t\t\t\t\t\t</ListGroup.Item>\r\n\t\t\t\t\t\t\t<ListGroup.Item className='push-to-right'>\r\n\t\t\t\t\t\t\t\t<Row>\r\n\t\t\t\t\t\t\t\t\t<Col>\r\n\t\t\t\t\t\t\t\t\t\t<strong>Total</strong>\r\n\t\t\t\t\t\t\t\t\t</Col>\r\n\t\t\t\t\t\t\t\t\t<Col>\r\n\t\t\t\t\t\t\t\t\t\t<strong>USD{cart.totalPrice}</strong>\r\n\t\t\t\t\t\t\t\t\t</Col>\r\n\t\t\t\t\t\t\t\t</Row>\r\n\t\t\t\t\t\t\t</ListGroup.Item>\r\n\t\t\t\t\t\t\t<ListGroup.Item>\r\n\t\t\t\t\t\t\t\t{error && <Message variant='danger'>{error}</Message>}\r\n\t\t\t\t\t\t\t</ListGroup.Item>\r\n\t\t\t\t\t\t\t<ListGroup.Item>\r\n\t\t\t\t\t\t\t\t<Button\r\n\t\t\t\t\t\t\t\t\ttype='button'\r\n\t\t\t\t\t\t\t\t\tclassName='btn-block'\r\n\t\t\t\t\t\t\t\t\tdisabled={cart.cartItems === 0}\r\n\t\t\t\t\t\t\t\t\tonClick={placeOrderHandler}\r\n\t\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t\tPlace Order\r\n\t\t\t\t\t\t\t\t</Button>\r\n\t\t\t\t\t\t\t</ListGroup.Item>\r\n\t\t\t\t\t\t</ListGroup>\r\n\t\t\t\t\t</Card>\r\n\t\t\t\t</Col>\r\n\t\t\t</Row>\r\n\t\t</>\r\n\t)\r\n}\r\n\r\nexport default PlaceOrderScreen\r\n","import React, { useEffect, useState } from 'react'\r\nimport axios from 'axios'\r\nimport { PayPalButton } from 'react-paypal-button-v2'\r\nimport { Link } from 'react-router-dom'\r\nimport { Button, Row, Col, ListGroup, Image, Card } from 'react-bootstrap'\r\nimport { useDispatch, useSelector } from 'react-redux'\r\nimport Message from '../components/Message'\r\nimport Loader from '../components/Loader'\r\nimport {\r\n\tgetOrderDetails,\r\n\tpayOrder,\r\n\tdeliverOrder,\r\n} from '../actions/orderActions'\r\nimport {\r\n\tORDER_PAY_RESET,\r\n\tORDER_DELIVER_RESET,\r\n} from '../constants/orderConstants'\r\n\r\nconst OrderScreen = ({ match }) => {\r\n\tconst orderId = match.params.id\r\n\r\n\tconst [sdkReady, setSdkReady] = useState(false)\r\n\r\n\tconst dispatch = useDispatch()\r\n\r\n\tconst orderDetails = useSelector((state) => state.orderDetails)\r\n\tconst { order, loading, error } = orderDetails\r\n\r\n\tconst userLogin = useSelector((state) => state.userLogin)\r\n\tconst { userInfo } = userLogin\r\n\r\n\tconst orderPay = useSelector((state) => state.orderPay)\r\n\tconst { loading: loadingPay, success: successPay } = orderPay\r\n\r\n\tconst orderDeliver = useSelector((state) => state.orderDeliver)\r\n\tconst { loading: loadingDeliver, success: successDeliver } = orderDeliver\r\n\r\n\tif (!loading) {\r\n\t\t// Calculate prices\r\n\t\t// Add two decimals to price if needed\r\n\t\tconst addDecimals = (num) => {\r\n\t\t\treturn (Math.round(num * 100) / 100).toFixed(2)\r\n\t\t}\r\n\t\t// Items price\r\n\t\torder.itemsPrice = addDecimals(\r\n\t\t\torder.orderItems.reduce((acc, item) => acc + item.price * item.qty, 0)\r\n\t\t)\r\n\t}\r\n\r\n\tuseEffect(() => {\r\n\t\t// To get PAYPAL_CLIENT_ID\r\n\t\tconst addPayPalScript = async () => {\r\n\t\t\tconst { data: clientId } = await axios.get('/api/config/paypal')\r\n\t\t\t// Create the script\r\n\t\t\tconst script = document.createElement('script')\r\n\t\t\tscript.type = 'text/javascript'\r\n\t\t\tscript.src = `https://www.paypal.com/sdk/js?client-id=${clientId}`\r\n\t\t\tscript.async = true\r\n\t\t\tscript.onload = () => {\r\n\t\t\t\tsetSdkReady(true)\r\n\t\t\t}\r\n\t\t\tdocument.body.appendChild(script)\r\n\t\t}\r\n\r\n\t\tif (!order || successPay || successDeliver || order._id !== orderId) {\r\n\t\t\tdispatch({ type: ORDER_PAY_RESET })\r\n\t\t\tdispatch({ type: ORDER_DELIVER_RESET })\r\n\t\t\tdispatch(getOrderDetails(orderId))\r\n\t\t\t// if not paid add paypal script\r\n\t\t} else if (!order.isPaid) {\r\n\t\t\tif (!window.paypal) {\r\n\t\t\t\taddPayPalScript()\r\n\t\t\t} else {\r\n\t\t\t\tsetSdkReady(true)\r\n\t\t\t}\r\n\t\t}\r\n\t}, [dispatch, orderId, successPay, successDeliver, order]) // Dependencies, on change they fire off useEffect\r\n\r\n\tconst successPaymentHandler = (paymentResult) => {\r\n\t\tdispatch(payOrder(orderId, paymentResult))\r\n\t}\r\n\r\n\tconst deliverHandler = () => {\r\n\t\tdispatch(deliverOrder(order))\r\n\t}\r\n\r\n\treturn loading ? (\r\n\t\t<Loader />\r\n\t) : error ? (\r\n\t\t<Message variant='danger'>{error}</Message>\r\n\t) : (\r\n\t\t<>\r\n\t\t\t<Link\r\n\t\t\t\t// TODO if admin has an order, go back to /profile\r\n\t\t\t\tto={userInfo.isAdmin ? '/admin/orderlist' : '/profile'}\r\n\t\t\t\tclassName='btn btn-light my-3'\r\n\t\t\t>\r\n\t\t\t\tGo Back\r\n\t\t\t</Link>\r\n\t\t\t<h1>Order {order._id}</h1>\r\n\t\t\t<Row>\r\n\t\t\t\t{/* Left Steps Summary */}\r\n\t\t\t\t<Col md={8}>\r\n\t\t\t\t\t<ListGroup variant='flush'>\r\n\t\t\t\t\t\t<ListGroup.Item>\r\n\t\t\t\t\t\t\t<h2>Shipping</h2>\r\n\r\n\t\t\t\t\t\t\t<p>\r\n\t\t\t\t\t\t\t\t<span className='push-to-right'>\r\n\t\t\t\t\t\t\t\t\t<strong>Name: </strong> {order.user.name}\r\n\t\t\t\t\t\t\t\t</span>\r\n\t\t\t\t\t\t\t</p>\r\n\r\n\t\t\t\t\t\t\t<p>\r\n\t\t\t\t\t\t\t\t<span className='push-to-right'>\r\n\t\t\t\t\t\t\t\t\t<strong>Email: </strong>\r\n\t\t\t\t\t\t\t\t\t<a href={`mailto:${order.user.email}`}>{order.user.email}</a>\r\n\t\t\t\t\t\t\t\t</span>\r\n\t\t\t\t\t\t\t</p>\r\n\r\n\t\t\t\t\t\t\t<p>\r\n\t\t\t\t\t\t\t\t<span className='push-to-right'>\r\n\t\t\t\t\t\t\t\t\t<strong>Address: </strong>\r\n\t\t\t\t\t\t\t\t\t{order.shippingAddress.address}, {order.shippingAddress.city}{' '}\r\n\t\t\t\t\t\t\t\t\t{order.shippingAddress.postalCode},{' '}\r\n\t\t\t\t\t\t\t\t\t{order.shippingAddress.country}\r\n\t\t\t\t\t\t\t\t</span>\r\n\t\t\t\t\t\t\t</p>\r\n\t\t\t\t\t\t\t{order.isDelivered ? (\r\n\t\t\t\t\t\t\t\t<Message variant='success'>\r\n\t\t\t\t\t\t\t\t\tDelivered on {order.deliveredAt}\r\n\t\t\t\t\t\t\t\t</Message>\r\n\t\t\t\t\t\t\t) : (\r\n\t\t\t\t\t\t\t\t<Message variant='danger'>Not Delivered</Message>\r\n\t\t\t\t\t\t\t)}\r\n\t\t\t\t\t\t</ListGroup.Item>\r\n\t\t\t\t\t\t<ListGroup.Item>\r\n\t\t\t\t\t\t\t<h2>Payment Method</h2>\r\n\t\t\t\t\t\t\t<p>\r\n\t\t\t\t\t\t\t\t<span className='push-to-right'>\r\n\t\t\t\t\t\t\t\t\t<strong>Method: </strong>\r\n\t\t\t\t\t\t\t\t\t{order.paymentMethod}\r\n\t\t\t\t\t\t\t\t</span>\r\n\t\t\t\t\t\t\t</p>\r\n\t\t\t\t\t\t\t{order.isPaid ? (\r\n\t\t\t\t\t\t\t\t<Message variant='success'>Paid on {order.paidAt}</Message>\r\n\t\t\t\t\t\t\t) : (\r\n\t\t\t\t\t\t\t\t<Message variant='danger'>Not Paid</Message>\r\n\t\t\t\t\t\t\t)}\r\n\t\t\t\t\t\t</ListGroup.Item>\r\n\t\t\t\t\t\t<ListGroup.Item>\r\n\t\t\t\t\t\t\t<h2>Order Items</h2>\r\n\t\t\t\t\t\t\t{order.orderItems.length === 0 ? (\r\n\t\t\t\t\t\t\t\t<Message>Your order is empty</Message>\r\n\t\t\t\t\t\t\t) : (\r\n\t\t\t\t\t\t\t\t<ListGroup variant='flush'>\r\n\t\t\t\t\t\t\t\t\t{order.orderItems.map((item, index) => (\r\n\t\t\t\t\t\t\t\t\t\t<ListGroup.Item key={index}>\r\n\t\t\t\t\t\t\t\t\t\t\t<Row>\r\n\t\t\t\t\t\t\t\t\t\t\t\t<Col md={1}>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t<Image\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tsrc={item.image}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\talt={item.name}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tfluid\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\trounded\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t\t\t\t\t\t</Col>\r\n\t\t\t\t\t\t\t\t\t\t\t\t<Col>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t<Link to={`/product/${item.product}`}>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t{item.name}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t</Link>\r\n\t\t\t\t\t\t\t\t\t\t\t\t</Col>\r\n\t\t\t\t\t\t\t\t\t\t\t\t<Col md={4}>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t{item.qty} x USD{item.price} = USD{item.qty * item.price}\r\n\t\t\t\t\t\t\t\t\t\t\t\t</Col>\r\n\t\t\t\t\t\t\t\t\t\t\t</Row>\r\n\t\t\t\t\t\t\t\t\t\t</ListGroup.Item>\r\n\t\t\t\t\t\t\t\t\t))}\r\n\t\t\t\t\t\t\t\t</ListGroup>\r\n\t\t\t\t\t\t\t)}\r\n\t\t\t\t\t\t</ListGroup.Item>\r\n\t\t\t\t\t</ListGroup>\r\n\t\t\t\t</Col>\r\n\t\t\t\t{/* Right Order Summary */}\r\n\t\t\t\t<Col md={4}>\r\n\t\t\t\t\t<Card>\r\n\t\t\t\t\t\t<ListGroup variant='flush'>\r\n\t\t\t\t\t\t\t<ListGroup.Item>\r\n\t\t\t\t\t\t\t\t<h2>Order Summary</h2>\r\n\t\t\t\t\t\t\t</ListGroup.Item>\r\n\t\t\t\t\t\t\t<ListGroup.Item className='push-to-right'>\r\n\t\t\t\t\t\t\t\t<Row>\r\n\t\t\t\t\t\t\t\t\t<Col>Items</Col>\r\n\t\t\t\t\t\t\t\t\t<Col>USD{order.itemsPrice}</Col>\r\n\t\t\t\t\t\t\t\t</Row>\r\n\t\t\t\t\t\t\t</ListGroup.Item>\r\n\t\t\t\t\t\t\t<ListGroup.Item className='push-to-right'>\r\n\t\t\t\t\t\t\t\t<Row>\r\n\t\t\t\t\t\t\t\t\t<Col>Shipping</Col>\r\n\t\t\t\t\t\t\t\t\t<Col>USD{order.shippingPrice}</Col>\r\n\t\t\t\t\t\t\t\t</Row>\r\n\t\t\t\t\t\t\t</ListGroup.Item>\r\n\t\t\t\t\t\t\t<ListGroup.Item className='push-to-right'>\r\n\t\t\t\t\t\t\t\t<Row>\r\n\t\t\t\t\t\t\t\t\t<Col>Tax</Col>\r\n\t\t\t\t\t\t\t\t\t<Col>USD{order.taxPrice}</Col>\r\n\t\t\t\t\t\t\t\t</Row>\r\n\t\t\t\t\t\t\t</ListGroup.Item>\r\n\t\t\t\t\t\t\t<ListGroup.Item className='push-to-right'>\r\n\t\t\t\t\t\t\t\t<Row>\r\n\t\t\t\t\t\t\t\t\t<Col>\r\n\t\t\t\t\t\t\t\t\t\t<strong>Total</strong>\r\n\t\t\t\t\t\t\t\t\t</Col>\r\n\t\t\t\t\t\t\t\t\t<Col>\r\n\t\t\t\t\t\t\t\t\t\t<strong>USD{order.totalPrice}</strong>\r\n\t\t\t\t\t\t\t\t\t</Col>\r\n\t\t\t\t\t\t\t\t</Row>\r\n\t\t\t\t\t\t\t</ListGroup.Item>\r\n\t\t\t\t\t\t\t{!order.isPaid && (\r\n\t\t\t\t\t\t\t\t<ListGroup.Item>\r\n\t\t\t\t\t\t\t\t\t{loadingPay && <Loader />}\r\n\t\t\t\t\t\t\t\t\t{!sdkReady ? (\r\n\t\t\t\t\t\t\t\t\t\t<Loader />\r\n\t\t\t\t\t\t\t\t\t) : (\r\n\t\t\t\t\t\t\t\t\t\t<PayPalButton\r\n\t\t\t\t\t\t\t\t\t\t\tamount={order.totalPrice}\r\n\t\t\t\t\t\t\t\t\t\t\tonSuccess={successPaymentHandler}\r\n\t\t\t\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t\t\t)}\r\n\t\t\t\t\t\t\t\t</ListGroup.Item>\r\n\t\t\t\t\t\t\t)}\r\n\t\t\t\t\t\t\t{loadingDeliver && <Loader />}\r\n\t\t\t\t\t\t\t{userInfo.isAdmin && order.isPaid && !order.isDelivered && (\r\n\t\t\t\t\t\t\t\t<ListGroup.Item>\r\n\t\t\t\t\t\t\t\t\t<Button\r\n\t\t\t\t\t\t\t\t\t\ttype='button'\r\n\t\t\t\t\t\t\t\t\t\tclassName='btn btn-block'\r\n\t\t\t\t\t\t\t\t\t\tonClick={deliverHandler}\r\n\t\t\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t\t\tMark As Delivered\r\n\t\t\t\t\t\t\t\t\t</Button>\r\n\t\t\t\t\t\t\t\t</ListGroup.Item>\r\n\t\t\t\t\t\t\t)}\r\n\t\t\t\t\t\t</ListGroup>\r\n\t\t\t\t\t</Card>\r\n\t\t\t\t</Col>\r\n\t\t\t</Row>\r\n\t\t</>\r\n\t)\r\n}\r\n\r\nexport default OrderScreen\r\n","import React, { useEffect } from 'react'\r\nimport { LinkContainer } from 'react-router-bootstrap'\r\nimport { Table, Button } from 'react-bootstrap'\r\nimport { useDispatch, useSelector } from 'react-redux'\r\nimport Message from '../components/Message'\r\nimport Loader from '../components/Loader'\r\nimport { listUsers, deleteUser } from '../actions/userActions'\r\n\r\nconst UserListScreen = ({ history }) => {\r\n\tconst dispatch = useDispatch()\r\n\r\n\tconst userList = useSelector((state) => state.userList)\r\n\tconst { loading, error, users } = userList\r\n\r\n\tconst userLogin = useSelector((state) => state.userLogin)\r\n\tconst { userInfo } = userLogin\r\n\r\n\tconst userDelete = useSelector((state) => state.userDelete)\r\n\tconst { success: successDelete } = userDelete\r\n\r\n\tuseEffect(() => {\r\n\t\tif (userInfo && userInfo.isAdmin) {\r\n\t\t\tdispatch(listUsers())\r\n\t\t} else {\r\n\t\t\thistory.push('/login')\r\n\t\t}\r\n\t}, [dispatch, userInfo, history, successDelete])\r\n\r\n\tconst deleteHandler = (id) => {\r\n\t\tif (window.confirm('Are you sure?')) {\r\n\t\t\tdispatch(deleteUser(id))\r\n\t\t}\r\n\t}\r\n\r\n\treturn (\r\n\t\t<>\r\n\t\t\t<h1>Users</h1>\r\n\t\t\t{loading ? (\r\n\t\t\t\t<Loader />\r\n\t\t\t) : error ? (\r\n\t\t\t\t<Message variant='danger'>{error}</Message>\r\n\t\t\t) : (\r\n\t\t\t\t<Table bordered hover responsive className='table-sm'>\r\n\t\t\t\t\t<thead>\r\n\t\t\t\t\t\t<tr>\r\n\t\t\t\t\t\t\t<th>ID</th>\r\n\t\t\t\t\t\t\t<th>Name</th>\r\n\t\t\t\t\t\t\t<th>Email</th>\r\n\t\t\t\t\t\t\t<th>Admin</th>\r\n\t\t\t\t\t\t\t<th>Edit</th>\r\n\t\t\t\t\t\t\t<th>Delete</th>\r\n\t\t\t\t\t\t</tr>\r\n\t\t\t\t\t</thead>\r\n\t\t\t\t\t<tbody>\r\n\t\t\t\t\t\t{users.map((user) => (\r\n\t\t\t\t\t\t\t<tr key={user._id}>\r\n\t\t\t\t\t\t\t\t<td>{user._id}</td>\r\n\t\t\t\t\t\t\t\t<td>{user.name}</td>\r\n\t\t\t\t\t\t\t\t<td>\r\n\t\t\t\t\t\t\t\t\t<a href={`mailto:${user.email}`}>{user.email}</a>\r\n\t\t\t\t\t\t\t\t</td>\r\n\t\t\t\t\t\t\t\t<td>\r\n\t\t\t\t\t\t\t\t\t{user.isAdmin ? (\r\n\t\t\t\t\t\t\t\t\t\t<i className='fas fa-check' style={{ color: 'green' }}></i>\r\n\t\t\t\t\t\t\t\t\t) : (\r\n\t\t\t\t\t\t\t\t\t\t<i className='fas fa-times' style={{ color: 'red' }}></i>\r\n\t\t\t\t\t\t\t\t\t)}\r\n\t\t\t\t\t\t\t\t</td>\r\n\t\t\t\t\t\t\t\t{/* Edit button */}\r\n\t\t\t\t\t\t\t\t<td>\r\n\t\t\t\t\t\t\t\t\t<LinkContainer to={`/admin/user/${user._id}/edit`}>\r\n\t\t\t\t\t\t\t\t\t\t<Button variant='light' className='btn-sm'>\r\n\t\t\t\t\t\t\t\t\t\t\t<i className='fas fa-edit'></i>\r\n\t\t\t\t\t\t\t\t\t\t</Button>\r\n\t\t\t\t\t\t\t\t\t</LinkContainer>\r\n\t\t\t\t\t\t\t\t</td>\r\n\t\t\t\t\t\t\t\t{/* Delete button */}\r\n\t\t\t\t\t\t\t\t<td>\r\n\t\t\t\t\t\t\t\t\t<Button\r\n\t\t\t\t\t\t\t\t\t\tvariant='danger'\r\n\t\t\t\t\t\t\t\t\t\tclassName='btn-sm'\r\n\t\t\t\t\t\t\t\t\t\tonClick={() => deleteHandler(user._id)}\r\n\t\t\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t\t\t<i className='fas fa-trash'></i>\r\n\t\t\t\t\t\t\t\t\t</Button>\r\n\t\t\t\t\t\t\t\t</td>\r\n\t\t\t\t\t\t\t</tr>\r\n\t\t\t\t\t\t))}\r\n\t\t\t\t\t</tbody>\r\n\t\t\t\t</Table>\r\n\t\t\t)}\r\n\t\t</>\r\n\t)\r\n}\r\n\r\nexport default UserListScreen\r\n","import React, { useState, useEffect } from 'react'\r\nimport { Link } from 'react-router-dom'\r\nimport { Form, Button } from 'react-bootstrap'\r\nimport { useDispatch, useSelector } from 'react-redux'\r\nimport Message from '../components/Message'\r\nimport Loader from '../components/Loader'\r\nimport FormContainer from '../components/FormContainer'\r\nimport { getUserDetails, updateUser } from '../actions/userActions'\r\nimport { USER_UPDATE_RESET } from '../constants/userConstants'\r\n\r\nconst UserScreen = ({ match, history }) => {\r\n\tconst userId = match.params.id\r\n\r\n\tconst [name, setName] = useState('')\r\n\tconst [email, setEmail] = useState('')\r\n\tconst [isAdmin, setIsAdmin] = useState(false)\r\n\r\n\tconst dispatch = useDispatch()\r\n\r\n\t// useSelector is to grab what we want from the state\r\n\tconst userDetails = useSelector((state) => state.userDetails)\r\n\tconst { loading, error, user } = userDetails\r\n\r\n\tconst userUpdate = useSelector((state) => state.userUpdate)\r\n\tconst {\r\n\t\tloading: loadingUpdate,\r\n\t\terror: errorUpdate,\r\n\t\tsuccess: successUpdate,\r\n\t} = userUpdate\r\n\r\n\t// make request here upon component load\r\n\tuseEffect(() => {\r\n\t\tif (successUpdate) {\r\n\t\t\tdispatch({ type: USER_UPDATE_RESET })\r\n\t\t\thistory.push('/admin/userlist')\r\n\t\t} else {\r\n\t\t\tif (!user.name || user._id !== userId) {\r\n\t\t\t\tdispatch(getUserDetails(userId))\r\n\t\t\t} else {\r\n\t\t\t\tsetName(user.name)\r\n\t\t\t\tsetEmail(user.email)\r\n\t\t\t\tsetIsAdmin(user.isAdmin)\r\n\t\t\t}\r\n\t\t}\r\n\t}, [successUpdate, dispatch, history, user, userId]) // Dependencies, on change they fire off useEffect)\r\n\r\n\tconst submitHandler = (e) => {\r\n\t\te.preventDefault()\r\n\t\tdispatch(updateUser({ _id: userId, name, email, isAdmin }))\r\n\t}\r\n\r\n\treturn (\r\n\t\t<>\r\n\t\t\t<Link to='/admin/userlist' className='btn btn-light my-3'>\r\n\t\t\t\tGo Back\r\n\t\t\t</Link>\r\n\t\t\t<FormContainer>\r\n\t\t\t\t<h1>Edit User</h1>\r\n\t\t\t\t{loadingUpdate && <Loader />}\r\n\t\t\t\t{errorUpdate && <Message variant='danger'>{errorUpdate}</Message>}\r\n\t\t\t\t{/* On error, display message/error\r\n            When loading, display Loading... */}\r\n\t\t\t\t{loading ? (\r\n\t\t\t\t\t<Loader />\r\n\t\t\t\t) : error ? (\r\n\t\t\t\t\t<Message variant='danger'>{error}</Message>\r\n\t\t\t\t) : (\r\n\t\t\t\t\t<Form onSubmit={submitHandler}>\r\n\t\t\t\t\t\t{/* Name */}\r\n\t\t\t\t\t\t<Form.Group controlId='email'>\r\n\t\t\t\t\t\t\t<Form.Label>Name</Form.Label>\r\n\t\t\t\t\t\t\t<Form.Control\r\n\t\t\t\t\t\t\t\ttype='text'\r\n\t\t\t\t\t\t\t\tplaceholder='Enter name'\r\n\t\t\t\t\t\t\t\tvalue={name}\r\n\t\t\t\t\t\t\t\tonChange={(e) => setName(e.target.value)}\r\n\t\t\t\t\t\t\t></Form.Control>\r\n\t\t\t\t\t\t</Form.Group>\r\n\t\t\t\t\t\t{/* Email */}\r\n\t\t\t\t\t\t<Form.Group controlId='email'>\r\n\t\t\t\t\t\t\t<Form.Label>Email Address</Form.Label>\r\n\t\t\t\t\t\t\t<Form.Control\r\n\t\t\t\t\t\t\t\ttype='email'\r\n\t\t\t\t\t\t\t\tplaceholder='Enter email'\r\n\t\t\t\t\t\t\t\tvalue={email}\r\n\t\t\t\t\t\t\t\tonChange={(e) => setEmail(e.target.value)}\r\n\t\t\t\t\t\t\t></Form.Control>\r\n\t\t\t\t\t\t</Form.Group>\r\n\t\t\t\t\t\t{/* isAdmin */}\r\n\t\t\t\t\t\t<Form.Group controlId='isadmin'>\r\n\t\t\t\t\t\t\t<Form.Check\r\n\t\t\t\t\t\t\t\ttype='checkbox'\r\n\t\t\t\t\t\t\t\tlabel='Is Admin'\r\n\t\t\t\t\t\t\t\tchecked={isAdmin}\r\n\t\t\t\t\t\t\t\tonChange={(e) => setIsAdmin(e.target.checked)}\r\n\t\t\t\t\t\t\t></Form.Check>\r\n\t\t\t\t\t\t</Form.Group>\r\n\t\t\t\t\t\t{/* Button */}\r\n\t\t\t\t\t\t<Button type='submit' variant='primary'>\r\n\t\t\t\t\t\t\tUpdate\r\n\t\t\t\t\t\t</Button>\r\n\t\t\t\t\t</Form>\r\n\t\t\t\t)}\r\n\t\t\t</FormContainer>\r\n\t\t</>\r\n\t)\r\n}\r\n\r\nexport default UserScreen\r\n","import React, { useEffect } from 'react'\r\nimport { LinkContainer } from 'react-router-bootstrap'\r\nimport { Table, Button, Row, Col } from 'react-bootstrap'\r\nimport { useDispatch, useSelector } from 'react-redux'\r\nimport Message from '../components/Message'\r\nimport Loader from '../components/Loader'\r\nimport Paginate from '../components/Paginate'\r\nimport {\r\n\tlistProducts,\r\n\tdeleteProduct,\r\n\tcreateProduct,\r\n} from '../actions/productActions'\r\nimport { PRODUCT_CREATE_RESET } from '../constants/productConstants'\r\nconst ProductListScreen = ({ history, match }) => {\r\n\tconst pageNumber = match.params.pageNumber || 1\r\n\r\n\tconst dispatch = useDispatch()\r\n\r\n\tconst productList = useSelector((state) => state.productList)\r\n\tconst { loading, error, products, page, pages } = productList\r\n\r\n\tconst userLogin = useSelector((state) => state.userLogin)\r\n\tconst { userInfo } = userLogin\r\n\r\n\tconst productDelete = useSelector((state) => state.productDelete)\r\n\tconst {\r\n\t\tloading: loadingDelete,\r\n\t\terror: errorDelete,\r\n\t\tsuccess: successDelete,\r\n\t} = productDelete\r\n\r\n\tconst productCreate = useSelector((state) => state.productCreate)\r\n\tconst {\r\n\t\tloading: loadingCreate,\r\n\t\terror: errorCreate,\r\n\t\tsuccess: successCreate,\r\n\t\tproduct: createdProduct,\r\n\t} = productCreate\r\n\r\n\tuseEffect(() => {\r\n\t\tdispatch({ type: PRODUCT_CREATE_RESET })\r\n\r\n\t\tif (!userInfo || !userInfo.isAdmin) {\r\n\t\t\thistory.push('/login')\r\n\t\t}\r\n\t\tif (successCreate) {\r\n\t\t\thistory.push(`/admin/product/${createdProduct._id}/edit`)\r\n\t\t} else {\r\n\t\t\tdispatch(listProducts('', pageNumber))\r\n\t\t}\r\n\t}, [\r\n\t\tdispatch,\r\n\t\tuserInfo,\r\n\t\thistory,\r\n\t\tsuccessDelete,\r\n\t\tsuccessCreate,\r\n\t\tcreatedProduct,\r\n\t\tpageNumber,\r\n\t])\r\n\r\n\tconst deleteHandler = (id) => {\r\n\t\tif (window.confirm('Are you sure?')) {\r\n\t\t\tdispatch(deleteProduct(id))\r\n\t\t}\r\n\t}\r\n\r\n\tconst createProductHandler = () => {\r\n\t\tdispatch(createProduct())\r\n\t}\r\n\r\n\treturn (\r\n\t\t<>\r\n\t\t\t<Row className='align-items-center'>\r\n\t\t\t\t<Col>\r\n\t\t\t\t\t<h1>Products</h1>\r\n\t\t\t\t</Col>\r\n\t\t\t\t<Col className='text-right'>\r\n\t\t\t\t\t<Button className='my-3' onClick={createProductHandler}>\r\n\t\t\t\t\t\t<span className='plus-sign-margin'>\r\n\t\t\t\t\t\t\t<i className='fas fa-plus'></i>\r\n\t\t\t\t\t\t</span>\r\n\t\t\t\t\t\tCreate Product\r\n\t\t\t\t\t</Button>\r\n\t\t\t\t</Col>\r\n\t\t\t</Row>\r\n\t\t\t{loadingCreate && <Loader />}\r\n\t\t\t{errorCreate && <Message variant='danger'>{errorCreate}</Message>}\r\n\t\t\t{loadingDelete && <Loader />}\r\n\t\t\t{errorDelete && <Message variant='danger'>{errorDelete}</Message>}\r\n\t\t\t{loading ? (\r\n\t\t\t\t<Loader />\r\n\t\t\t) : error ? (\r\n\t\t\t\t<Message variant='danger'>{error}</Message>\r\n\t\t\t) : (\r\n\t\t\t\t<>\r\n\t\t\t\t\t<Table bordered hover responsive className='table-sm'>\r\n\t\t\t\t\t\t<thead>\r\n\t\t\t\t\t\t\t<tr>\r\n\t\t\t\t\t\t\t\t<th>ID</th>\r\n\t\t\t\t\t\t\t\t<th>Name</th>\r\n\t\t\t\t\t\t\t\t<th>Price</th>\r\n\t\t\t\t\t\t\t\t<th>Category</th>\r\n\t\t\t\t\t\t\t\t<th>Brand</th>\r\n\t\t\t\t\t\t\t\t<th>Edit</th>\r\n\t\t\t\t\t\t\t\t<th>Delete</th>\r\n\t\t\t\t\t\t\t</tr>\r\n\t\t\t\t\t\t</thead>\r\n\t\t\t\t\t\t<tbody>\r\n\t\t\t\t\t\t\t{products.map((product) => (\r\n\t\t\t\t\t\t\t\t<tr key={product._id}>\r\n\t\t\t\t\t\t\t\t\t<td>{product._id}</td>\r\n\t\t\t\t\t\t\t\t\t<td>{product.name}</td>\r\n\t\t\t\t\t\t\t\t\t<td>USD{product.price}</td>\r\n\t\t\t\t\t\t\t\t\t<td>{product.category}</td>\r\n\t\t\t\t\t\t\t\t\t<td>{product.brand}</td>\r\n\t\t\t\t\t\t\t\t\t{/* Edit button */}\r\n\t\t\t\t\t\t\t\t\t<td>\r\n\t\t\t\t\t\t\t\t\t\t<LinkContainer to={`/admin/product/${product._id}/edit`}>\r\n\t\t\t\t\t\t\t\t\t\t\t<Button variant='light' className='btn-sm'>\r\n\t\t\t\t\t\t\t\t\t\t\t\t<i className='fas fa-edit'></i>\r\n\t\t\t\t\t\t\t\t\t\t\t</Button>\r\n\t\t\t\t\t\t\t\t\t\t</LinkContainer>\r\n\t\t\t\t\t\t\t\t\t</td>\r\n\t\t\t\t\t\t\t\t\t{/* Delete button */}\r\n\t\t\t\t\t\t\t\t\t<td>\r\n\t\t\t\t\t\t\t\t\t\t<Button\r\n\t\t\t\t\t\t\t\t\t\t\tvariant='danger'\r\n\t\t\t\t\t\t\t\t\t\t\tclassName='btn-sm'\r\n\t\t\t\t\t\t\t\t\t\t\tonClick={() => deleteHandler(product._id)}\r\n\t\t\t\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t\t\t\t<i className='fas fa-trash'></i>\r\n\t\t\t\t\t\t\t\t\t\t</Button>\r\n\t\t\t\t\t\t\t\t\t</td>\r\n\t\t\t\t\t\t\t\t</tr>\r\n\t\t\t\t\t\t\t))}\r\n\t\t\t\t\t\t</tbody>\r\n\t\t\t\t\t</Table>\r\n\t\t\t\t\t<Paginate pages={pages} page={page} isAdmin={true} />\r\n\t\t\t\t</>\r\n\t\t\t)}\r\n\t\t</>\r\n\t)\r\n}\r\n\r\nexport default ProductListScreen\r\n","import axios from 'axios'\r\nimport React, { useState, useEffect } from 'react'\r\nimport { Link } from 'react-router-dom'\r\nimport { Form, Button } from 'react-bootstrap'\r\nimport { useDispatch, useSelector } from 'react-redux'\r\nimport Message from '../components/Message'\r\nimport Loader from '../components/Loader'\r\nimport FormContainer from '../components/FormContainer'\r\nimport { listProductDetails, updateProduct } from '../actions/productActions'\r\nimport { PRODUCT_UPDATE_RESET } from '../constants/productConstants'\r\n\r\nconst ProductScreen = ({ match, history }) => {\r\n\tconst productId = match.params.id\r\n\r\n\tconst [name, setName] = useState('')\r\n\tconst [price, setPrice] = useState(0)\r\n\tconst [image, setImage] = useState('')\r\n\tconst [brand, setBrand] = useState('')\r\n\tconst [countInStock, setCountInStock] = useState(0)\r\n\tconst [category, setCategory] = useState('')\r\n\tconst [description, setDescription] = useState('')\r\n\tconst [uploading, setUploading] = useState(false)\r\n\r\n\tconst dispatch = useDispatch()\r\n\r\n\t// useSelector is to grab what we want from the state\r\n\tconst productDetails = useSelector((state) => state.productDetails)\r\n\tconst { loading, error, product } = productDetails\r\n\r\n\tconst productUpdate = useSelector((state) => state.productUpdate)\r\n\tconst {\r\n\t\tloading: loadingUpdate,\r\n\t\terror: errorUpdate,\r\n\t\tsuccess: successUpdate,\r\n\t} = productUpdate\r\n\r\n\t// make request here upon component load\r\n\tuseEffect(() => {\r\n\t\tif (successUpdate) {\r\n\t\t\tdispatch({ type: PRODUCT_UPDATE_RESET })\r\n\t\t\tdispatch(listProductDetails(productId))\r\n\t\t\thistory.push('/admin/productlist')\r\n\t\t} else {\r\n\t\t\tif (!product.name || product._id !== productId) {\r\n\t\t\t\tdispatch(listProductDetails(productId))\r\n\t\t\t} else {\r\n\t\t\t\tsetName(product.name)\r\n\t\t\t\tsetPrice(product.price)\r\n\t\t\t\tsetImage(product.image)\r\n\t\t\t\tsetBrand(product.brand)\r\n\t\t\t\tsetCountInStock(product.countInStock)\r\n\t\t\t\tsetCategory(product.category)\r\n\t\t\t\tsetDescription(product.description)\r\n\t\t\t}\r\n\t\t}\r\n\t}, [successUpdate, dispatch, history, product, productId]) // Dependencies, on change they fire off useEffect)\r\n\r\n\tconst uploadFileHandler = async (e) => {\r\n\t\tconst file = e.target.files[0]\r\n\r\n\t\tconst formData = new FormData()\r\n\t\tformData.append('image', file)\r\n\t\tsetUploading(true)\r\n\t\ttry {\r\n\t\t\tconst config = {\r\n\t\t\t\theaders: {\r\n\t\t\t\t\t'Content-Type': 'multipart/form-data',\r\n\t\t\t\t},\r\n\t\t\t}\r\n\r\n\t\t\t// Making post request to upload the image\r\n\t\t\tconst { data } = await axios.post('/api/upload', formData, config)\r\n\r\n\t\t\tsetImage(data)\r\n\t\t\tsetUploading(false)\r\n\t\t} catch (error) {\r\n\t\t\tconsole.error(error)\r\n\t\t\tsetUploading(false)\r\n\t\t}\r\n\t}\r\n\r\n\tconst submitHandler = (e) => {\r\n\t\te.preventDefault()\r\n\t\tdispatch(\r\n\t\t\tupdateProduct({\r\n\t\t\t\t_id: productId,\r\n\t\t\t\tname,\r\n\t\t\t\tprice,\r\n\t\t\t\timage,\r\n\t\t\t\tbrand,\r\n\t\t\t\tcountInStock,\r\n\t\t\t\tcategory,\r\n\t\t\t\tdescription,\r\n\t\t\t})\r\n\t\t)\r\n\t}\r\n\r\n\treturn (\r\n\t\t<>\r\n\t\t\t<Link to='/admin/productlist' className='btn btn-light my-3'>\r\n\t\t\t\tGo Back\r\n\t\t\t</Link>\r\n\t\t\t<FormContainer>\r\n\t\t\t\t<h1>Edit Product</h1>\r\n\t\t\t\t{loadingUpdate && <Loader />}\r\n\t\t\t\t{errorUpdate && <Message variant='danger'>{errorUpdate}</Message>}\r\n\t\t\t\t{/* On error, display message/error\r\n            When loading, display Loading... */}\r\n\t\t\t\t{loading ? (\r\n\t\t\t\t\t<Loader />\r\n\t\t\t\t) : error ? (\r\n\t\t\t\t\t<Message variant='danger'>{error}</Message>\r\n\t\t\t\t) : (\r\n\t\t\t\t\t<Form onSubmit={submitHandler}>\r\n\t\t\t\t\t\t{/* Name */}\r\n\t\t\t\t\t\t<Form.Group controlId='email'>\r\n\t\t\t\t\t\t\t<Form.Label>Name</Form.Label>\r\n\t\t\t\t\t\t\t<Form.Control\r\n\t\t\t\t\t\t\t\ttype='text'\r\n\t\t\t\t\t\t\t\tplaceholder='Enter name'\r\n\t\t\t\t\t\t\t\tvalue={name}\r\n\t\t\t\t\t\t\t\tonChange={(e) => setName(e.target.value)}\r\n\t\t\t\t\t\t\t></Form.Control>\r\n\t\t\t\t\t\t</Form.Group>\r\n\t\t\t\t\t\t{/* Price */}\r\n\t\t\t\t\t\t<Form.Group controlId='price'>\r\n\t\t\t\t\t\t\t<Form.Label>Price</Form.Label>\r\n\t\t\t\t\t\t\t<Form.Control\r\n\t\t\t\t\t\t\t\ttype='number'\r\n\t\t\t\t\t\t\t\tmin='0'\r\n\t\t\t\t\t\t\t\tstep='0.01'\r\n\t\t\t\t\t\t\t\tplaceholder='Enter price'\r\n\t\t\t\t\t\t\t\tvalue={price}\r\n\t\t\t\t\t\t\t\tonChange={(e) => setPrice(e.target.value)}\r\n\t\t\t\t\t\t\t></Form.Control>\r\n\t\t\t\t\t\t</Form.Group>\r\n\t\t\t\t\t\t{/* Image */}\r\n\t\t\t\t\t\t<Form.Group controlId='image'>\r\n\t\t\t\t\t\t\t<Form.Label>Image</Form.Label>\r\n\t\t\t\t\t\t\t<Form.Control\r\n\t\t\t\t\t\t\t\ttype='text'\r\n\t\t\t\t\t\t\t\tplaceholder='Enter image url'\r\n\t\t\t\t\t\t\t\tvalue={image}\r\n\t\t\t\t\t\t\t\tonChange={(e) => setImage(e.target.value)}\r\n\t\t\t\t\t\t\t></Form.Control>\r\n\t\t\t\t\t\t\t{/* Image file */}\r\n\t\t\t\t\t\t\t<Form.File\r\n\t\t\t\t\t\t\t\tid='image-file'\r\n\t\t\t\t\t\t\t\tlabel='Choose File'\r\n\t\t\t\t\t\t\t\tcustom\r\n\t\t\t\t\t\t\t\tonChange={uploadFileHandler}\r\n\t\t\t\t\t\t\t></Form.File>\r\n\t\t\t\t\t\t\t{uploading && <Loader />}\r\n\t\t\t\t\t\t</Form.Group>\r\n\t\t\t\t\t\t{/* Brand */}\r\n\t\t\t\t\t\t<Form.Group controlId='brand'>\r\n\t\t\t\t\t\t\t<Form.Label>Brand</Form.Label>\r\n\t\t\t\t\t\t\t<Form.Control\r\n\t\t\t\t\t\t\t\ttype='text'\r\n\t\t\t\t\t\t\t\tplaceholder='Enter brand'\r\n\t\t\t\t\t\t\t\tvalue={brand}\r\n\t\t\t\t\t\t\t\tonChange={(e) => setBrand(e.target.value)}\r\n\t\t\t\t\t\t\t></Form.Control>\r\n\t\t\t\t\t\t</Form.Group>\r\n\t\t\t\t\t\t{/* Count in Stock */}\r\n\t\t\t\t\t\t<Form.Group controlId='countInStock'>\r\n\t\t\t\t\t\t\t<Form.Label>Count In Stock</Form.Label>\r\n\t\t\t\t\t\t\t<Form.Control\r\n\t\t\t\t\t\t\t\ttype='number'\r\n\t\t\t\t\t\t\t\tmin='0'\r\n\t\t\t\t\t\t\t\tstep='1'\r\n\t\t\t\t\t\t\t\tplaceholder='Enter count in stock'\r\n\t\t\t\t\t\t\t\tvalue={countInStock}\r\n\t\t\t\t\t\t\t\tonChange={(e) => setCountInStock(e.target.value)}\r\n\t\t\t\t\t\t\t></Form.Control>\r\n\t\t\t\t\t\t</Form.Group>\r\n\t\t\t\t\t\t{/* Category */}\r\n\t\t\t\t\t\t<Form.Group controlId='category'>\r\n\t\t\t\t\t\t\t<Form.Label>Category</Form.Label>\r\n\t\t\t\t\t\t\t<Form.Control\r\n\t\t\t\t\t\t\t\ttype='text'\r\n\t\t\t\t\t\t\t\tplaceholder='Enter category'\r\n\t\t\t\t\t\t\t\tvalue={category}\r\n\t\t\t\t\t\t\t\tonChange={(e) => setCategory(e.target.value)}\r\n\t\t\t\t\t\t\t></Form.Control>\r\n\t\t\t\t\t\t</Form.Group>\r\n\t\t\t\t\t\t{/* Description */}\r\n\t\t\t\t\t\t<Form.Group controlId='description'>\r\n\t\t\t\t\t\t\t<Form.Label>Description</Form.Label>\r\n\t\t\t\t\t\t\t<Form.Control\r\n\t\t\t\t\t\t\t\ttype='text'\r\n\t\t\t\t\t\t\t\tplaceholder='Enter description'\r\n\t\t\t\t\t\t\t\tvalue={description}\r\n\t\t\t\t\t\t\t\tonChange={(e) => setDescription(e.target.value)}\r\n\t\t\t\t\t\t\t></Form.Control>\r\n\t\t\t\t\t\t</Form.Group>\r\n\t\t\t\t\t\t{/* Button */}\r\n\t\t\t\t\t\t<Button type='submit' variant='primary'>\r\n\t\t\t\t\t\t\tUpdate\r\n\t\t\t\t\t\t</Button>\r\n\t\t\t\t\t</Form>\r\n\t\t\t\t)}\r\n\t\t\t</FormContainer>\r\n\t\t</>\r\n\t)\r\n}\r\n\r\nexport default ProductScreen\r\n","import React, { useEffect } from 'react'\r\nimport { LinkContainer } from 'react-router-bootstrap'\r\nimport { Table, Button } from 'react-bootstrap'\r\nimport { useDispatch, useSelector } from 'react-redux'\r\nimport Message from '../components/Message'\r\nimport Loader from '../components/Loader'\r\nimport { listOrders } from '../actions/orderActions'\r\n\r\nconst OrderListScreen = ({ history }) => {\r\n\tconst dispatch = useDispatch()\r\n\r\n\tconst orderList = useSelector((state) => state.orderList)\r\n\tconst { loading, error, orders } = orderList\r\n\r\n\tconst userLogin = useSelector((state) => state.userLogin)\r\n\tconst { userInfo } = userLogin\r\n\r\n\tuseEffect(() => {\r\n\t\tif (userInfo && userInfo.isAdmin) {\r\n\t\t\tdispatch(listOrders())\r\n\t\t} else {\r\n\t\t\thistory.push('/login')\r\n\t\t}\r\n\t}, [dispatch, userInfo, history])\r\n\r\n\treturn (\r\n\t\t<>\r\n\t\t\t<h1>Orders</h1>\r\n\t\t\t{loading ? (\r\n\t\t\t\t<Loader />\r\n\t\t\t) : error ? (\r\n\t\t\t\t<Message variant='danger'>{error}</Message>\r\n\t\t\t) : (\r\n\t\t\t\t<Table bordered hover responsive className='table-sm'>\r\n\t\t\t\t\t<thead>\r\n\t\t\t\t\t\t<tr>\r\n\t\t\t\t\t\t\t<th>ID</th>\r\n\t\t\t\t\t\t\t<th>User</th>\r\n\t\t\t\t\t\t\t<th>Date</th>\r\n\t\t\t\t\t\t\t<th>Total</th>\r\n\t\t\t\t\t\t\t<th>Paid</th>\r\n\t\t\t\t\t\t\t<th>Delivered</th>\r\n\t\t\t\t\t\t\t<th>Info</th>\r\n\t\t\t\t\t\t</tr>\r\n\t\t\t\t\t</thead>\r\n\t\t\t\t\t<tbody>\r\n\t\t\t\t\t\t{orders.map((order) => (\r\n\t\t\t\t\t\t\t<tr key={order._id}>\r\n\t\t\t\t\t\t\t\t<td>{order._id}</td>\r\n\t\t\t\t\t\t\t\t<td>{order.user && order.user.name}</td>\r\n\t\t\t\t\t\t\t\t<td>{order.createdAt.substring(0, 10)}</td>\r\n\t\t\t\t\t\t\t\t<td>USD{order.totalPrice}</td>\r\n\t\t\t\t\t\t\t\t<td>\r\n\t\t\t\t\t\t\t\t\t{order.isPaid ? (\r\n\t\t\t\t\t\t\t\t\t\torder.paidAt.substring(0, 10)\r\n\t\t\t\t\t\t\t\t\t) : (\r\n\t\t\t\t\t\t\t\t\t\t<i className='fas fa-times' style={{ color: 'red' }}></i>\r\n\t\t\t\t\t\t\t\t\t)}\r\n\t\t\t\t\t\t\t\t</td>\r\n\t\t\t\t\t\t\t\t<td>\r\n\t\t\t\t\t\t\t\t\t{order.isDeliverd ? (\r\n\t\t\t\t\t\t\t\t\t\torder.deliveredAt.substring(0, 10)\r\n\t\t\t\t\t\t\t\t\t) : (\r\n\t\t\t\t\t\t\t\t\t\t<i className='fas fa-times' style={{ color: 'red' }}></i>\r\n\t\t\t\t\t\t\t\t\t)}\r\n\t\t\t\t\t\t\t\t</td>\r\n\t\t\t\t\t\t\t\t<td>\r\n\t\t\t\t\t\t\t\t\t<LinkContainer to={`/order/${order._id}`}>\r\n\t\t\t\t\t\t\t\t\t\t<Button className='btn-sm' variant='light'>\r\n\t\t\t\t\t\t\t\t\t\t\tDetails\r\n\t\t\t\t\t\t\t\t\t\t</Button>\r\n\t\t\t\t\t\t\t\t\t</LinkContainer>\r\n\t\t\t\t\t\t\t\t</td>\r\n\t\t\t\t\t\t\t</tr>\r\n\t\t\t\t\t\t))}\r\n\t\t\t\t\t</tbody>\r\n\t\t\t\t</Table>\r\n\t\t\t)}\r\n\t\t</>\r\n\t)\r\n}\r\n\r\nexport default OrderListScreen\r\n","import React from 'react'\r\nimport { BrowserRouter as Router, Route } from 'react-router-dom'\r\n\r\nimport { Container } from 'react-bootstrap'\r\nimport Header from './components/Header'\r\nimport Footer from './components/Footer'\r\nimport HomeScreen from './screens/HomeScreen'\r\nimport ProductScreen from './screens/ProductScreen'\r\nimport CartScreen from './screens/CartScreen'\r\nimport LoginScreen from './screens/LoginScreen'\r\nimport RegisterScreen from './screens/RegisterScreen'\r\nimport ProfileScreen from './screens/ProfileScreen'\r\nimport ShippingScreen from './screens/ShippingScreen'\r\nimport PaymentScreen from './screens/PaymentScreen'\r\nimport PlaceOrderScreen from './screens/PlaceOrderScreen'\r\nimport OrderScreen from './screens/OrderScreen'\r\nimport UserListScreen from './screens/UserListScreen'\r\nimport UserEditScreen from './screens/UserEditScreen'\r\nimport ProductListScreen from './screens/ProductListScreen'\r\nimport ProductEditScreen from './screens/ProductEditScreen'\r\nimport OrderListScreen from './screens/OrderListScreen'\r\n\r\nconst App = () => {\r\n\treturn (\r\n\t\t<Router>\r\n\t\t\t<Header />\r\n\t\t\t<main className='py-3'>\r\n\t\t\t\t<Container>\r\n\t\t\t\t\t{/* LoginScreen */}\r\n\t\t\t\t\t<Route path='/login' component={LoginScreen} />\r\n\t\t\t\t\t{/* RegisterScreen */}\r\n\t\t\t\t\t<Route path='/register' component={RegisterScreen} />\r\n\t\t\t\t\t{/* ProfileScreen */}\r\n\t\t\t\t\t<Route path='/profile' component={ProfileScreen} />\r\n\t\t\t\t\t{/* ShippingScreen */}\r\n\t\t\t\t\t<Route path='/shipping' component={ShippingScreen} />\r\n\t\t\t\t\t{/* PaymentScreen */}\r\n\t\t\t\t\t<Route path='/payment' component={PaymentScreen} />\r\n\t\t\t\t\t{/* PlaceOrderScreen */}\r\n\t\t\t\t\t<Route path='/placeorder' component={PlaceOrderScreen} />\r\n\t\t\t\t\t{/* OrderScreen */}\r\n\t\t\t\t\t<Route path='/order/:id' component={OrderScreen} />\r\n\t\t\t\t\t{/* ProductScreen */}\r\n\t\t\t\t\t<Route path='/product/:id' component={ProductScreen} />\r\n\t\t\t\t\t{/* CartScreen */}\r\n\t\t\t\t\t<Route path='/cart/:id?' component={CartScreen} />\r\n\t\t\t\t\t{/* UserListScreen */}\r\n\t\t\t\t\t<Route path='/admin/userlist' component={UserListScreen} />\r\n\t\t\t\t\t{/* UserEditScreen */}\r\n\t\t\t\t\t<Route path='/admin/user/:id/edit' component={UserEditScreen} />\r\n\t\t\t\t\t{/* ProductListScreen */}\r\n\t\t\t\t\t<Route\r\n\t\t\t\t\t\tpath='/admin/productlist'\r\n\t\t\t\t\t\tcomponent={ProductListScreen}\r\n\t\t\t\t\t\texact\r\n\t\t\t\t\t/>\r\n\t\t\t\t\t{/* ProductListScreen Page number */}\r\n\t\t\t\t\t<Route\r\n\t\t\t\t\t\tpath='/admin/productlist/:pageNumber'\r\n\t\t\t\t\t\tcomponent={ProductListScreen}\r\n\t\t\t\t\t\texact\r\n\t\t\t\t\t/>\r\n\t\t\t\t\t{/* ProductEditScreen */}\r\n\t\t\t\t\t<Route path='/admin/product/:id/edit' component={ProductEditScreen} />\r\n\t\t\t\t\t{/* OrderListScreen */}\r\n\t\t\t\t\t<Route path='/admin/orderlist' component={OrderListScreen} />\r\n\t\t\t\t\t{/* HomeScreen Search */}\r\n\t\t\t\t\t<Route path='/search/:keyword' component={HomeScreen} exact />\r\n\t\t\t\t\t{/* HomeScreen Search Page number */}\r\n\t\t\t\t\t<Route\r\n\t\t\t\t\t\tpath='/search/:keyword/page/:pageNumber'\r\n\t\t\t\t\t\tcomponent={HomeScreen}\r\n\t\t\t\t\t\texact\r\n\t\t\t\t\t/>\r\n\t\t\t\t\t{/* HomeScreen Page number */}\r\n\t\t\t\t\t<Route path='/page/:pageNumber' component={HomeScreen} exact />\r\n\t\t\t\t\t{/* HomeScreen */}\r\n\t\t\t\t\t<Route path='/' component={HomeScreen} exact />\r\n\t\t\t\t</Container>\r\n\t\t\t</main>\r\n\t\t\t<Footer />\r\n\t\t</Router>\r\n\t)\r\n}\r\n\r\nexport default App\r\n","const reportWebVitals = onPerfEntry => {\r\n  if (onPerfEntry && onPerfEntry instanceof Function) {\r\n    import('web-vitals').then(({ getCLS, getFID, getFCP, getLCP, getTTFB }) => {\r\n      getCLS(onPerfEntry);\r\n      getFID(onPerfEntry);\r\n      getFCP(onPerfEntry);\r\n      getLCP(onPerfEntry);\r\n      getTTFB(onPerfEntry);\r\n    });\r\n  }\r\n};\r\n\r\nexport default reportWebVitals;\r\n","import React from 'react'\r\nimport ReactDOM from 'react-dom'\r\nimport { Provider } from 'react-redux'\r\nimport store from './store'\r\nimport './bootstrap.min.css'\r\nimport './index.css'\r\nimport App from './App'\r\nimport reportWebVitals from './reportWebVitals'\r\n\r\nReactDOM.render(\r\n\t<Provider store={store}>\r\n\t\t<App />\r\n\t</Provider>,\r\n\tdocument.getElementById('root')\r\n)\r\n\r\n// If you want to start measuring performance in your app, pass a function\r\n// to log results (for example: reportWebVitals(console.log))\r\n// or send to an analytics endpoint. Learn more: https://bit.ly/CRA-vitals\r\nreportWebVitals()\r\n"],"sourceRoot":""}